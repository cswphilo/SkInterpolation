%Version 3 October 2023
% See section 11 of the User Manual for version history
%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%                                                                 %%
%% Please do not use \input{...} to include other tex files.       %%
%% Submit your LaTeX manuscript as one .tex document.              %%
%%                                                                 %%
%% All additional figures and files should be attached             %%
%% separately and not embedded in the \TeX\ document itself.       %%
%%                                                                 %%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

%%\documentclass[referee,sn-basic]{sn-jnl}% referee option is meant for double line spacing

%%=======================================================%%
%% to print line numbers in the margin use lineno option %%
%%=======================================================%%

%%\documentclass[lineno,sn-basic]{sn-jnl}% Basic Springer Nature Reference Style/Chemistry Reference Style

%%======================================================%%
%% to compile with pdflatex/xelatex use pdflatex option %%
%%======================================================%%

%%\documentclass[pdflatex,sn-basic]{sn-jnl}% Basic Springer Nature Reference Style/Chemistry Reference Style


%%Note: the following reference styles support Namedate and Numbered referencing. By default the style follows the most common style. To switch between the options you can add or remove �Numbered� in the optional parenthesis. 
%%The option is available for: sn-basic.bst, sn-vancouver.bst, sn-chicago.bst%  
 
%%\documentclass[sn-nature]{sn-jnl}% Style for submissions to Nature Portfolio journals
%%\documentclass[sn-basic]{sn-jnl}% Basic Springer Nature Reference Style/Chemistry Reference Style
\documentclass[sn-mathphys-num]{sn-jnl}% Math and Physical Sciences Numbered Reference Style 
%%\documentclass[sn-mathphys-ay]{sn-jnl}% Math and Physical Sciences Author Year Reference Style
%%\documentclass[sn-aps]{sn-jnl}% American Physical Society (APS) Reference Style
%%\documentclass[sn-vancouver,Numbered]{sn-jnl}% Vancouver Reference Style
%%\documentclass[sn-apa]{sn-jnl}% APA Reference Style 
%%\documentclass[sn-chicago]{sn-jnl}% Chicago-based Humanities Reference Style

%%%% Standard Packages
%%<additional latex packages if required can be included here>

\usepackage{graphicx}%
\usepackage{multirow}%
\usepackage{amsmath,amssymb,amsfonts}%
\usepackage{amsthm}%
\usepackage{enumitem}%
\usepackage{mathrsfs}%
\usepackage[title]{appendix}%
\usepackage{xcolor}%
\usepackage{textcomp}%
\usepackage{manyfoot}%
\usepackage{booktabs}%
\usepackage{algorithm}%
\usepackage{algorithmicx}%
\usepackage{algpseudocode}%
\usepackage{listings}%
\usepackage{proof}
\usepackage{quiver}
\usepackage{thm-restate}
%%%%
\newcommand{\curly}{\mathrel{\leadsto}}
\newcommand{\llangle}[1][]{\savebox{\@brx}{\(\m@th{#1\langle}\)}%
  \mathopen{\copy\@brx\kern-0.5\wd\@brx\usebox{\@brx}}}
\newcommand{\rrangle}[1][]{\savebox{\@brx}{\(\m@th{#1\rangle}\)}%
  \mathclose{\copy\@brx\kern-0.5\wd\@brx\usebox{\@brx}}}
\makeatother
\newcommand{\ldbc}{[\![}
\newcommand{\rdbc}{]\!]}
\newcommand{\tbar}{[\vec{x}/\vec{t}]}
\newcommand{\ltbar}{[\vec{x}, x/\vec{t}, x]}
\newcommand{\GG}{\Gamma}
\newcommand{\Gg}{\gamma}
\newcommand{\GD}{\Delta}
\newcommand{\Gd}{\delta}
\newcommand{\GL}{\Lambda}
\newcommand{\GO}{\Omega}
\newcommand{\GT}{\Theta}
\newcommand{\vd}{\vdash}
\newcommand{\tl}{\otimes \mathsf{L}}
\newcommand{\tr}{\otimes\mathsf{R}}
\newcommand{\tll}{\otimes^{\mathsf{L}} \mathsf{L}}
\newcommand{\tlr}{\otimes^{\mathsf{R}} \mathsf{L}}
\newcommand{\trl}{\otimes^{\mathsf{L}} \mathsf{R}}
\newcommand{\trr}{\otimes^{\mathsf{R}} \mathsf{R}}
\newcommand{\pass}{\mathsf{pass}}
\newcommand{\unitl}{\mathsf{IL}}
\newcommand{\unitr}{\mathsf{IR}}
\newcommand{\ax}{\mathsf{ax}}
\newcommand{\id}{\mathsf{id}}
\newcommand{\ot}{\otimes}
\newcommand{\otl}{\otimes^{\mathsf{L}}}
\newcommand{\otr}{\otimes^{\mathsf{R}}}
\newcommand{\ol}{\mathbin{\diagup}}
\newcommand{\lo}{\mathbin{\diagdown}}
\newcommand{\lolli}{\multimap}
\newcommand{\lleft}{{\lolli}\mathsf{L}}
\newcommand{\lright}{{\lolli}\mathsf{R}}
\newcommand{\llolli}{\multimap^{\mathsf{L}}}
\newcommand{\rlolli}{\multimap^{\mathsf{R}}}
\newcommand{\llleft}{{\llolli}\mathsf{L}}
\newcommand{\rlleft}{{\rlolli}\mathsf{L}}
\newcommand{\llright}{{\llolli}\mathsf{R}}
\newcommand{\rlright}{{\rlolli}\mathsf{R}}
\newcommand{\illol}{\rotatebox[origin=c]{180}{$\multimap$}}
\newcommand{\I}{\mathsf{I}}
\newcommand{\msfL}{\mathsf{L}}
\newcommand{\defeq}{=_{\mathsf{df}}}
\newcommand{\comp}{\mathsf{comp}}
\newcommand{\RI}{\mathsf{RI}}
\newcommand{\LI}{\mathsf{LI}}
\newcommand{\Pass}{\mathsf{P}}
\newcommand{\F}{\mathsf{F}}
\newcommand{\xvdash}{\vdash^{x}}
\newcommand{\yvdash}{\vdash^{y}}
\newcommand{\comm}{\ot\mathsf{comm}}
\newcommand{\assl}{\mathsf{assoc}^{\mathsf{L}}}
\newcommand{\assr}{\mathsf{assoc}^{\mathsf{R}}}
\newcommand{\cdl}{\cdot^{\mf{L}}}
\newcommand{\cdr}{\cdot^{\mf{R}}}
\newcommand{\sls}{\slash}
\newcommand{\bsls}{\backslash}

\newcommand{\highlight}[1]{\textcolor{blue}{#1}}

\newcommand{\proofbox}[1]{\begin{tabular}{l} #1 \end{tabular}}

\newcommand{\MILL}{$\mathtt{MILL}$}
\newcommand{\NL}{$\mathtt{NL}$}
\newcommand{\NMILL}{$\mathtt{NMILL}$}
\newcommand{\SkNMILL}{$\mathtt{SkNMILL}$}
\newcommand{\LSkNL}{$\mathtt{LSkNL}$}
% \newcommand{\SkNMILL}{$\mathtt{LSkG}$}
% \newcommand{\SkNMILLm}{$\mathtt{LSkG^{-}}$}
\newcommand{\LSkT}{$\mathtt{LSkT}$}
\newcommand{\RSkT}{$\mathtt{RSkT}$}
\newcommand{\LSkTm}{$\mathtt{LSkT^{-}}$}
\newcommand{\LSkA}{$\mathtt{LSkA}$}
\newcommand{\FSkMCC}{\mathsf{FSkMCl}}
\newcommand{\SkBiC}{$\mathsf{SkBiC}$}
\newcommand{\SkBiCT}{$\mathtt{SkBiCT}$}
\newcommand{\SkBiCA}{$\mathtt{SkBiCA}$}
\newcommand{\mc}[1]{\mathcal{#1}}
\newcommand{\mf}[1]{\mathsf{#1}}
\newcommand{\mbb}[1]{\mathbb{#1}}
\newcommand{\gs}[1]{\sigma_{X} (#1)}
\newcommand{\vars}[1]{\mf{var} (#1)}
\newcommand{\FL}{\textbf{FL}}

\newcommand{\niccolo}[1]{\textcolor{red}{#1}}
\newcommand{\cheng}[1]{\textcolor{green}{#1}}


%%%%%=============================================================================%%%%
%%%%  Remarks: This template is provided to aid authors with the preparation
%%%%  of original research articles intended for submission to journals published 
%%%%  by Springer Nature. The guidance has been prepared in partnership with 
%%%%  production teams to conform to Springer Nature technical requirements. 
%%%%  Editorial and presentation requirements differ among journal portfolios and 
%%%%  research disciplines. You may find sections in this template are irrelevant 
%%%%  to your work and are empowered to omit any such section if allowed by the 
%%%%  journal you intend to submit to. The submission guidelines and policies 
%%%%  of the journal take precedence. A detailed User Manual is available in the 
%%%%  template package for technical guidance.
%%%%%=============================================================================%%%%

%% as per the requirement new theorem styles can be included as shown below
\theoremstyle{thmstyleone}%
\newtheorem{theorem}{Theorem}%  meant for continuous numbers
%%\newtheorem{theorem}{Theorem}[section]% meant for sectionwise numbers
%% optional argument [theorem] produces theorem numbering sequence instead of independent numbers for Proposition
\newtheorem{proposition}[theorem]{Proposition}% 
%%\newtheorem{proposition}{Proposition}% to get separate numbers for theorem and proposition etc.

\theoremstyle{thmstyletwo}%
\newtheorem{example}[theorem]{Example}%
\newtheorem{remark}[theorem]{Remark}%
\newtheorem{lemma}[theorem]{Lemma}
\theoremstyle{thmstylethree}%
\newtheorem{definition}[theorem]{Definition}%

\raggedbottom
%%\unnumbered% uncomment this for unnumbered level heads

% \declaretheorem[name=Theorem,numberwithin=section]{thm}

\begin{document}

\title[Craig Interpolation for Semi-{S}ubstructural Logics]{Craig Interpolation for Semi-{S}ubstructural Logics}

%%=============================================================%%
%% GivenName	-> \fnm{Joergen W.}
%% Particle	-> \spfx{van der} -> surname prefix
%% FamilyName	-> \sur{Ploeg}
%% Suffix	-> \sfx{IV}
%% \author*[1,2]{\fnm{Joergen W.} \spfx{van der} \sur{Ploeg} 
%%  \sfx{IV}}\email{iauthor@gmail.com}
%%=============================================================%%

\author{\fnm{Niccol{\`o}} \sur{Veltri}}\email{niccolo@cs.ioc.ee}

\author{\fnm{Cheng-Syuan} \sur{Wan}}\email{cswan@cs.ioc.ee}
% \equalcont{These authors contributed equally to this work.}

% \author[1,2]{\fnm{Third} \sur{Author}}\email{iiiauthor@gmail.com}
% \equalcont{These authors contributed equally to this work.}

\affil{\orgdiv{Department of Software Science}, \orgname{Tallinn University of Technology}, \country{Estonia}}

% \affil[2]{\orgdiv{Department}, \orgname{Organization}, \orgaddress{\street{Street}, \city{City}, \postcode{10587}, \state{State}, \country{Country}}}

% \affil[3]{\orgdiv{Department}, \orgname{Organization}, \orgaddress{\street{Street}, \city{City}, \postcode{610101}, \state{State}, \country{Country}}}

%%==================================%%
%% Sample for unstructured abstract %%
%%==================================%%

\abstract{This work studies Craig interpolation for the sequent calculus of skew monoidal closed categories.
Skew monoidal closed categories are a relaxed version of monoidal closed categories, where the structural laws of associativity and left and right unitality, are merely natural transformations with a specific orientation.
The corresponding sequent calculus is semi-substructural because it only admits semi-associativity and semi-unitality, i.e. it is an intermediate logic between non-associative and associative linear logic.
Craig interpolation for various substructural logics has been studied both proof-theoretically and algebraically.
However, it is not clear whether these methods can be applied to semi-substructural logics.
Here we investigate the problem proof-theoretically and show that the sequent calculi for skew monoidal (closed) categories enjoy Craig interpolation by proving a skew version of Maehara interpolation.}

%%================================%%
%% Sample for structured abstract %%
%%================================%%

% \abstract{\textbf{Purpose:} The abstract serves both as a general introduction to the topic and as a brief, non-technical summary of the main results and their implications. The abstract must not include subheadings (unless expressly permitted in the journal's Instructions to Authors), equations or citations. As a guide the abstract should not exceed 200 words. Most journals do not set a hard limit however authors are advised to check the author instructions for the journal they are submitting to.
% 
% \textbf{Methods:} The abstract serves both as a general introduction to the topic and as a brief, non-technical summary of the main results and their implications. The abstract must not include subheadings (unless expressly permitted in the journal's Instructions to Authors), equations or citations. As a guide the abstract should not exceed 200 words. Most journals do not set a hard limit however authors are advised to check the author instructions for the journal they are submitting to.
% 
% \textbf{Results:} The abstract serves both as a general introduction to the topic and as a brief, non-technical summary of the main results and their implications. The abstract must not include subheadings (unless expressly permitted in the journal's Instructions to Authors), equations or citations. As a guide the abstract should not exceed 200 words. Most journals do not set a hard limit however authors are advised to check the author instructions for the journal they are submitting to.
% 
% \textbf{Conclusion:} The abstract serves both as a general introduction to the topic and as a brief, non-technical summary of the main results and their implications. The abstract must not include subheadings (unless expressly permitted in the journal's Instructions to Authors), equations or citations. As a guide the abstract should not exceed 200 words. Most journals do not set a hard limit however authors are advised to check the author instructions for the journal they are submitting to.}

\keywords{skew monoidal closed categories, Craig Interpolation, intuitionistic linear logic, Agda}

%%\pacs[JEL Classification]{D8, H51}

%%\pacs[MSC Classification]{35A01, 65L10, 65L12, 65L20, 65L70}

\maketitle

\section{Introduction}\label{sec:intro}
% \niccolo{Here is how I would structure the introduction for a paper in Studia Logica:
%   \begin{itemize}
%   \item Craig interpolation: what is it and why is it useful, or what are some of its main applications.$\square$
%   \item Small description of substructural logics (like the 1st paragraph we currently have). I would also say here that associativity and unitality may are also appear in the list of structural rules, and nonassociative variants of (extensions of) Lambek calculus are very well studied.$\square$
%   \item Craig interpolation for substructural logics: which of them enjoy it, which methods have been used to prove it.$\square$
%   \item Also mention that other form of interpolation have been investigated in the substructural setting, like deductive interpolation and Maehara interpolation (is this how Ono called them?). Also that the implicational fragment of intuitionistic logic, and its substructural fragments, enjoy yet another form of interpolation. Cite the papers of Kanazawa and Pentus.$\square$
%   \item Now we can state that our work is on Craig interpolation for semi-substructural logics. Explain what semi-substructural means, e.g. by describing the shape of sequents and stating that certain (directions of) structural rules do not admit a proof. Also what connectives we consider. Similar to what is currently the 4th paragraph. $\square$
%   \item A small paragraph saying that our initial interest in these logic comes from category theory. Here we can mention the connection to skew monoidal closed categories and the coherence problem, and how we solved it through a calculus of focused proofs. Similar to what is currently the 2nd paragraph.$\square$
%   \item Here we should give some details on our proof of Craig interpolation. We use syntactic techniques to prove it. But we cannot directly use Maehara's method since, similarly to the implication fragment of Lambek calculus, Maehara interpolation fails. Instead, our sequent calculus satisfies yet another form of interpolation, scut/ccut-interpolation (we can write the statement here). Scut-interpolation is similar to Maheara interpolation, while ccut-interpolation is similar to Pebtus/Kanazawa interpolation $\square$
%   \item In our endeavour we are not only interested in provability, but also in proofs and their equality. This is again motivated by our categorical, as opposed to algebraic, interpretation. We introduce an equivalence of derivations capturing eta- and permutative conversions, which is sound and complete with respect to the categorical semantics.$\square$
%   \item In particular, we are also interested in proof-relevant interpolation in the sense of Cubric and recently Saurin. Instantiating the general categorical framework of Cubric to our setting, this means that our scut/ccut-interpolation procedures are in a way inverses of the admissible scut/ccut rules. Give the statement of what is currently Thm 7.$\square$
%   \item Finally, we have formalized everything in the Agda proof assistant.$\square$
%   \end{itemize}
% }

Craig interpolation is a fundamental result in first-order logic, named after the logician William Craig \cite{craig:interpolation:1957}.
A logic $\mc{L}$ has the \emph{Craig interpolation property} if, for any formula $A \to C$ provable in $\mc{L}$ (where $\to$ is the implication connective in $\mc{L}$), there exists a formula $B$ such that $A \to B$ and $B \to C$ are provable in $\mc{L}$, satisfying the variable condition: $\vars{B} \subseteq \vars{A} \cap \vars{C}$, where $\vars{A}$ is the set of atomic formulae appearing in $A$.
Craig interpolation has been moslty employed to prove model-theoretical results, including Beth's definability theorem \cite{Beth1953}, but more recently it has found applications in other areas, e.g. in model checking \cite{Henzinger2004}.

From the viewpoint of sequent calculus, substructural logics are defined by the absence of at least one structural rule.
A notable instance is Joachim Lambek's syntactic calculus \cite{lambek:mathematics:58}, which forbids weakening, contraction, exchange, and unitality \niccolo{(I'd remove unitality here, as the original Lambek calculus doesn't have units)}.
Its non-associative variant, which has been extensively studied \niccolo{(Cite Moot Retore book)}, also disallows associativity. Another significant example is linear logic, introduced by Jean-Yves Girard \cite{girard:linear:87}, where weakening and contraction are disallowed but can be recovered for specific formulas through modalities.
Substructural logics have proven useful for modelling various phenomena in different research areas, from the computational analysis of natural language syntax to the development of programming languages sensitive to resource management.

Craig interpolation for substructural logics has been extensively studied, using either algebraic or proof-theoretic techniques. 

For substructural logics that lack a cut-free sequent calculus, such as arbitrary extensions of the full Lambek calculus with exchange ($\FL_{\textbf{e}}$), Craig interpolation is established using algebraic methods such as amalgamation.
For further details on this approach, see \cite{Kihara2009}.

For substructural logics that admit a cut-free sequent calculus, Craig interpolation is typically proven using Maehara's method \niccolo{(cite Maehara)}. 
This includes the full Lambek calculus (\FL) and its extensions that incorporate various combinations of weakening, exchange, and contraction.
In the case of \FL, for instance, the proof starts by establishing a stronger form of interpolation which we call \emph{Maehara interpolation property} \cite{ono:proof:nonclassical:1998}. 
The latter property states:
\begin{itemize}
  \item[\ ] Given $f : \Gamma \vdash C$ and a partition $\langle \Gamma_0, \Gamma_1, \Gamma_2 \rangle$ of $\Gamma$, there exist a formula $D$ and two derivations $g : \Gamma_1 \vdash D$ and $h : \Gamma_0, D, \Gamma_1 \vdash C$, and $\vars{D} \subseteq \vars{\Gamma_0} \cap \vars{\Gamma_0, \Gamma_1, C}$
\end{itemize}
Being a partition simply means that the ordered list of formulae $\Gamma$ is equal to the concatenation of $\Gamma_0, \Gamma_1$ and $\Gamma_2$, i.e. $\Gamma = \Gamma_0, \Gamma_1, \Gamma_2$. Maehara interpolation also holds for the non-associative variant of \FL, for an appropriate reformulation of the principle in which antecedents are trees of formulae instead of lists.
Notice that Craig interpolation is a property of a logic (with a notion of implication), while Maehara interpolation is a property of a deductive system in which it is possible to appropriately partition antecedents.

Maehara interpolation is a stronger form of the so-called \emph{deductive interpolation property}. A logic $\mc{L}$ has the deductive interpolation property if, for any formulae $A$ and $C$, whenever $A \vd C$ (where $\vd$ is the consequence relation of $\mc{L}$), then there exists a formula $B$ such that $A \vd B$ and $B \vd C$ while also satisfying the usual variable condition. Furthermore, if the sequent calculus of $\mc{L}$ admits the invertibility of implication-right rules (as is the case in \FL\ for both left- and right-implication), Craig interpolation follows immediately as a consequence of deductive interpolation.

While Maheara's method is often applicable to extensions of \FL, it does not work for some of its fragment, which therefore do not enjoy Maehara interpolation. This is the case for fragments lacking multiplicative and/or additive conjunction, such as the product-free Lambek calculus \cite{Pentus1997} (with only left- and right-implications as connectives) and the implicational fragment of intuitionistic logic \cite{Kanazawa2006}. 
The variant of Maehara interpolation satisfied by the product-free Lambek calculus, which we dub \emph{Maehara multi-interpolation}, is particularly relevant for our work. Here is its statement, which we have slightly modified to better align with our forthcoming discussion:
\begin{itemize}
  \item[\ ]  Given $f: S \mid \Gamma \vd C$ and a partition $\langle \GG_0,\GG_1, \GG_2 \rangle$ of $\GG$, there exist 
    \begin{itemize}
    \item[--] a partition $\langle \GD_1, \dots, \GD_n \rangle$ of $\GG_1$,
    \item[--] a list of interpolant formulae $D_1, \dots, D_n$,
    \item[--] a derivation $g: \GG_0, D_1, \dots, D_n, \GG_2 \vd C$,
    \item[--] a derivation $h_i : \GD_i \vd D_i$ for all $i \in [1\dots n]$, such that
    \item[--] $\gs{D_i} \leq \gs{\GD_i}$ and $\gs{D_1, \dots, D_n} \leq \gs{S, \GG_0, \GG_2, C}$ for all $i \in [1 \dots n]$ and atomic formulae $X$.
  \end{itemize}
\end{itemize}
Above $\gs{A}$ is equal to the number of occurrences of the atomic formula $X$ in $A$.
%% \niccolo{(I forgot, the use of $\sigma$ instead of $\vars$ was already in Ono?)
Differently from Maehara interpolation, in the above property we look for a  list of interpolants instead of a single formula.
This adjustment allows to overcome the difficulty caused by the absence of conjunction.
%\niccolo{(Are all difficulties actually overcome? Does this property still imply deductive/Craig interpolation?)}.


In this paper, we aim at proving Craig interpolation for the \emph{semi-substructural} logic \SkNMILL\ which we recently introduced in collaboration with Tarmo Uustalu \cite{UVW:protsn}.
In our terminology, a logic is semi-substructural if it is an intermediate logic inbetween (certain fragments of) non-associative and associative intuitionistic linear logic (or the Lambek calculus).
Semi-associativity and semi-unitality are encoded as follows.
Sequents are in the form $S \mid \Gamma \vdash A$, where the antecedent consists of an optional formula $S$, called stoup, adapted from Girard \cite{girard:constructive:91}, and an ordered list of formulae $\Gamma$.
The succedent is a single formula $A$.
We restrict the application of introduction rules in an appropriate way to allow only one of the directions of associativity and unitality, e.g. only $(A \ot B)\ot C \mid \quad \vd A \ot (B \ot C)$ is provable in \SkNMILL, while its inverse $A \ot (B \ot C) \mid \quad \vd (A \ot B) \ot C$ is not.
In other words, only directed variants of the structural rules of associativity and unitality are included, while their inverses are generally disallowed.

The introduction of semi-substructural logics was originally motivated by the study of cobinatorial properties of certain categorical structures, called \emph{left skew monoidal categories} \cite{szlachanyi:skew-monoidal:2012}.
These categories are a weaker variant of MacLane's monoidal categories.
In left skew monoidal categories, the structural morphisms of associativity and unitality (which are natural transformations typically called `associator' and `unitors') are not required to have an inverse. Instead, they are natural family of morphisms with a specific orientation.
For this reason, left skew monoidal categories can be seen as \emph{semi-associative} and \emph{semi-unital} variants of monoidal categories. 

Different variants of left skew monoidal categories have led to the development of their corresponding semi-substructural logic.
These include $(i)$ left skew semigroup \cite{zeilberger:semiassociative:19}, $(ii)$ left skew monoidal \cite{uustalu:sequent:2021}, $(iii)$ left skew (prounital) closed \cite{uustalu:deductive:nodate}, $(iv)$ left skew monoidal closed categories \cite{UVW:protsn,veltri:multifocus:23} \niccolo{(Cite your NCL'24 as well)}, and $(v)$ left distributive skew monoidal categories with finite products and coproducts \cite{VW:2023}.
Each of these logics admits a cut-free sequent calculus. Moreover, they admit a subcalculus of ``proofs in normal form'', which is inspired by Jean-Marc Andreoli's focusing method \cite{andreoli:logic:1992} and as such provides a way to make root-first proof search more deterministic.
Practically, the focusing method is employed for solving the coherence problem for the corresponding variants of left skew monoidal categories. In the case of left skew monoidal closed categories, a solution to the coherence (or word) problem consists of a procedure for deciding equality of parallel morphisms in the free left skew monoidal closed category on a given set $\mathsf{At}$.
In previous work, we showed that the focused subcalculus of \SkNMILL\ is a concrete presentation of such free category, so a solution to the coherence problem is obtained by checking whether two morphisms are represented by the same derivation in the focused subcalculus.


To prove Craig interpolation for \SkNMILL, we need to modify the statement of Maehara interpolation.
This modification is required due to issues similar to those encountered in the product-free Lambek calculus \cite{Pentus1997} and the implicational fragment of intuitionistic logic \cite{Kanazawa2006}, where Maehara interpolation fails. The main result of the paper is the following:
\begin{restatable*}{theorem}{genIntrp}\label{genIntrp}
In the sequent calculus for \SkNMILL, the two following interpolation properties hold:
\\
($\mf{scut}$-interpolation) Given $f: S \mid \Gamma \vd C$ and a partition $\langle \GG_0,\GG_1 \rangle$ of $\GG$, there exists  
\begin{itemize}
  \item[--] an interpolant formula $D$,
  \item[--] a derivation $g : S \mid \GG_0 \vd D$,
  \item[--] a derivation $h : D \mid \GG_1 \vd C$, such that
  \item[--] $\gs{D} \leq \gs{S , \GG_0}$ and $\gs{D} \leq \gs{\GG_1 , C}$ for all atomic formulae $X$.
\end{itemize}
%   , where $s(S) = I$ if $S = {-}$ or $s(S) = B$ if $S = B$.
  ($\mf{ccut}$-interpolation) Given $f: S \mid \Gamma \vd C$ and a partition $\langle \GG_0,\GG_1, \GG_2 \rangle$ of $\GG$, there exist  
  \begin{itemize}
    \item[--] a partition $\langle \GD_1, \dots, \GD_n \rangle$ of $\GG_1$,
    \item[--] a list of interpolant formulae $D_1, \dots, D_n$,
    \item[--] $g: S \mid \GG_0, D_1, \dots, D_n, \GG_2 \vd C$,
    \item[--] $h_i : {-} \mid \GD_i \vd D_i$ for  all $i \in [1\dots n]$,
    \item[--] $\gs{D_i} \leq \gs{\GD_i}$ for all $i \in [1 \dots n]$, and
    \item[--] $\gs{D_1, \dots, D_n} \leq \gs{S, \GG_0, \GG_2, C}$ for all $i \in [1 \dots n]$ and atomic formulae $X$.
  \end{itemize}
\end{restatable*}
In \SkNMILL, $\mf{scut}$-interpolation resembles Maehara interpolation, whereas $\mf{ccut}$-interpolation is similar to Maehara multi-interpolation property. %discussed by Pentus and Kanazawa.


Motivated by the categorical interpretation of \SkNMILL, we take one more step and investigate the interplay between the admissible cut rules (called $\mf{scut}$ and $\mf{ccut}$) and the derivations produced by the interpolation algorithm of Theorem \ref{genIntrp}.
%how proofs and their equivalences behave under the interpolation procedure. 
In previous work \cite{UVW:protsn}, we introduced an equivalence relation on derivations ($\circeq$) that captures eta- and permutative conversions, and is both sound and complete with respect to the categorical semantics.
We show that the $\mf{scut}$/$\mf{ccut}$-interpolation procedures of Theorem \ref{genIntrp} are left inverses of the admissible rules $\mf{scut}$ and $\mf{ccut}$, respectively. Formally, we prove the following theorem:
\begin{restatable*}{theorem}{intrpCut}\label{intrpCut}
  \begin{enumerate}[label=(\roman*)]
  \item Let $g : S \mid \GG_0 \vd D$ and $h : D \mid \GG_1 \vd C$ be the derivations obtained by applying $\mf{scut}$-interpolation on a derivation $f: S \mid \GG \vd C$ with the partition $\langle \GG_0 , \GG_1 \rangle$. Then $\mf{scut}(g, h) \circeq f$.
  \item Let $g : S \mid \GG_0 , D_1 , \dots, D_n, \GG_2 \vd C$ and $h_i : {-} \mid \GD_i \vd D_i$ for $i \in [1 \dots n]$ be derivations obtained by applying $\mf{ccut}$-interpolation on a derivation $f: S \mid \GG \vd C$ with the partition $\langle \GG_0 , \GG_1 , \GG_2 \rangle$. Then $\mf{ccut}^*([h_i] , g) \circeq f$.
  \end{enumerate}
\end{restatable*}

In the above statement, $\mf{ccut}^*$ denotes multiple applications of the admissible $\mf{ccut}$ rule, one for each derivation $h_i$.
Theorems \ref{genIntrp} and \ref{intrpCut} together show that \SkNMILL\ satisfies a \emph{proof-relevant} form of Craig interpolation, in the sense  formulated in the early 90s by {\v{C}}ubri{\'c} \cite{Cubric1994} in the setting of intuitionistic propositional logic and recently discussed also by Saurin \cite{Saurin2024} for (extensions of) classical linear logic.

% For example, consider the sequent $W, W\bsls Y, W , W \bsls X , X \bsls (Y \bsls Z) \longrightarrow Z $ with the partition $\langle [\ ] , [W, W\bsls Y, W , W \bsls X], [X \bsls (Y \bsls Z)] \rangle$ in the product-free Lambek calculus.
% By Maehara's method, the interpolant formula should be $X \cdot Y$, but the calculus does not include $\cdot$ as a connective.

% In both cases above, the formula-version of general interpolation fails because the additive ($\land$) and multiplicative ($\cdot$) conjunction are not present, respectively.

% \emph{Left skew monoidal categories} \cite{szlachanyi:skew-monoidal:2012} are a weaker variant of MacLane's monoidal categories where the structural morphisms of associativity and unitality are not required to be bidirectional, they are natural transformations with a particular orientation.
% Therefore, they can be seen as \emph{semi-associative} and \emph{semi-unital} variants of monoidal categories. 
% Left skew monoidal categories arise naturally in the semantics of programming languages \cite{altenkirch:monads:2014}, while the concept of semi-associativity is connected with combinatorial structures like the Tamari lattice and Stasheff associahedra \cite{zeilberger:semiassociative:19}.

% In recent years, in collaboration with Tarmo Uustalu and Noam Zeilberger, we started a research project on \emph{semi-substructural} logics, which is inspired by a series of developments on left skew monoidal categories and related variants by Szlach{\'a}nyi, Street, Bourke, Lack and many others \cite{szlachanyi:skew-monoidal:2012,street:skew-closed:2013,lack:triangulations:2014,bourke:skew:2018,bourke:lack:braided:2020}.

% We call the internal languages of left skew monoidal categories and their variants \emph{semi-substructural} logics, because they are intermediate logics in between (certain fragments of) non-associative and associative intuitionistic linear logic (or Lambek calculus).
% Semi-associativity and semi-unitality are encoded as follows.
% Sequents are in the form $S \mid \Gamma \vdash A$, where the antecedent consists of an optional formula $S$, called stoup, adapted from Girard \cite{girard:constructive:91}, and an ordered list of formulae $\Gamma$.
% The succedent is a single formula $A$.
% We restrict the application of introduction rules in an appropriate way to allow only one of the directions of associativity and unitality.
% % the one in the definition of skew monoidal category. For example, left-introduction rules are allowed to act only on the formula in stoup position, not on formulae in $\Gamma$.

% This approach has successfully captured internal languages for a variety of categories, including  $(i)$ left skew semigroup \cite{zeilberger:semiassociative:19}, $(ii)$ left skew monoidal \cite{uustalu:sequent:2021}, $(iii)$ left skew (prounital) closed \cite{uustalu:deductive:nodate}, $(iv)$ left skew monoidal closed categories \cite{UVW:protsn,veltri:multifocus:23}, and $(v)$ left distributive skew monoidal categories with finite products and coproducts \cite{VW:2023} through skew variants of the fragments of non-commutative intuitionistic linear logic consisting of combinations of connectives $(\I,\ot,\lolli,\land,\lor)$.
% Additionally, discussions have covered partial normality conditions, in which one or more structural morphisms are allowed to have an inverse \cite{uustalu:proof:nodate}, as well as extensions with skew exchange \`a la Bourke and Lack \cite{veltri:coherence:2021,VW:2023}.

% All of the aforementioned calculi with sequents of the form $S \mid \GG \vd A$ are cut-free and therefore, by their rule design, they are decidable.
% Moreover, they all admit sound and complete subcalculi inspired by Andreoli's focusing \cite{andreoli:logic:1992} in which
% rules are restricted to be applied in a specific order.
% A focused calculus provides an algorithm to solve both the proof identity problems for its non-focused calculus and coherence problems for its corresponding variant of left skew monoidal category.

% The variation of Craig interpolation is defined by replacing the multiplicity condition with that given a set of formulae $\GT$, and given a derivation $f:A \vd^{\GT} C$, if all formulae appearing in $f$ are in $\GT$, then there exists a formula $B \in \GT$ and two derivations $f_0: A\vd^{\GT} B$ and $f_1: B \vd^{\GT} C$. 
% In this paper, we call the former Craig interpolation and the latter weak interpolation.

% In this work, we show that sequent calculi for left skew monoidal (closed) categories enjoy Craig interpolation.

All the proofs presented in this paper have been formalized in the proof assistant Agda. The full formalization is freely available at the following website:
\begin{center}
  \url{https://github.com/niccoloveltri/code-skewmonclosed/tree/interpolation}.
\end{center}
% By reversing all structural morphisms and modifying coherence conditions in left skew monoidal closed categories, right skew monoidal closed categories emerge \cite{uustalu:eilenberg-kelly:2020}.
% Moreover, skew bi-closed categories are defined by appropriately integrating left and right skew monoidal closed structures.
% It is natural for us to consider sound sequent calculi for these categories.
% However, the implication rules are not well-behaved when just modeling right skew monoidal closed categories with sequent calculus {\`a} la Girard.

% In short, both problems stem from the skew structure concealed within the flat antecedent of $S \mid \GG \vd A$.
% While the antecedent $S \mid \GG$ is defined similarly to an ordered list, it is actually a tree associating to the left.

% In this work, we analyze and solve these two problems with ideas and methods from non-associative Lambek calculus.
% We start in Section \ref{sec:syntax}, by introducing the sequent calculus {\` a} la Girard (\SkNMILL) for left skew monoidal closed categories from \cite{UVW:protsn} and elaborating its limitation on having interpolation.
% By generalizing the method in \cite{ono:proof:nonclassical:1998}, we prove interpolation for a cut-free sequent calculus \LSkT, which is inspired by sequent calculus 
% for non-associative Lambek calculus \cite{bulinska:2009,moot:categorial:2012} and equivalent to \SkNMILL.
% The antecedents of sequents in \LSkT~are trees, which save us from discussing impossible cases when proving interpolation.
% Moreover, by the equivalence between \SkNMILL~and \LSkT, we can prove a special form of interpolation for \SkNMILL~via \LSkT.

% In Section \ref{sec:skew:categories}, we introduce definitions of left (right) skew monoidal closed categories and skew bi-closed categories, and normality conditions for skew categories.
% In Section \ref{sec:calculi:skbic}, we describe two calculi for skew bi-closed categories: one is an axiomatic calculus (\SkBiCA), while the other is a sequent calculus (\SkBiCT) similar to the multimodal non-associative Lambek calculus \cite{moortgat:multimodl:1996}.
% In Section \ref{sec:algebraic:relational:model}, we introduce the relational semantics for \SkBiCA.
% We define the relational semantics via a Kripke frame with two ternary relations and show that the partially ordered set which consists of subsets of possible worlds with appropriate operations is a thin skew bi-closed category.
% Furthermore, by theorem (\ref{thm:main}), we can prove a thin version of main theorems in \cite{uustalu:eilenberg-kelly:2020}.

\section{Sequent Calculus}\label{sec:syntax}
Recall the sequent calculus (\SkNMILL) for left skew monoidal closed categories from \cite{UVW:protsn}, which is a skew variant of non-commutative multiplicative intuitionistic linear logic.

Formulae ($\mf{Fma}$) are inductively generated by the grammar $A, B::= X \ | \ \I \ | \ A \ot B \ | \ A \lolli B$, where $X$ comes from a set $\mathsf{At}$ of atoms, $\I$ is a multiplicative unit, $\ot$ is multiplicative conjunction and $\lolli$ is a linear implication.

A sequent is a triple of the form $S \mid \Gamma \vd A$, where the antecedent splits into: an optional formula $S$, called \emph{stoup} \cite{girard:constructive:91}, and an ordered list of formulae $\Gamma$ and succedent $A$ is a single formula.
The symbol $S$ consistently denotes a stoup, meaning $S$ can either be a single formula or empty, indicated as $S = {-}$; furthermore, $X$, $Y$, and $Z$ always represent atomic formulae.
% The design of sequents is from previous work on syntactic characterizations for skew structures \cite{uustalu:sequent:2021,uustalu:proof:nodate,uustalu:deductive:nodate,veltri:coherence:2021}.
% The peculiar design of sequents, involving the presence of the stoup in the antecedent, comes from previous work on deductive systems with skew structure by Uustalu, Veltri and Zeilberger \cite{uustalu:sequent:2021,uustalu:proof:nodate,uustalu:deductive:nodate,veltri:coherence:2021}.

Derivations are generated recursively by the following rules:
\begin{equation}\label{eq:seqcalc:skmc:Gir}
	  % \def\arraystretch{2.5}
	  \begin{array}{c}
		\infer[\ax]{A \mid \quad \vd A}{}
		\quad
		\infer[\lleft]{A \lolli B \mid \Gamma , \Delta \vd C}{
		  {-} \mid \Gamma \vd A
		  &
		  B \mid \Delta \vd C
		}
		\quad
		\infer[\unitl]{\I \mid \Gamma \vd C}{{-} \mid \Gamma \vd C}
		\quad
		\infer[\tl]{A \ot B \mid \Gamma \vd C}{A \mid B , \Gamma \vd C}
		\\[5pt]
    \infer[\pass]{{-} \mid A , \Gamma \vd C}{A \mid \Gamma \vd C}
		\quad
		\infer[\lright]{S \mid \Gamma \vd A \lolli B}{S \mid \Gamma , A \vd B}
		\quad
		\infer[\unitr]{{-} \mid \quad \vd \I}{}
		\quad
		\infer[\tr]{S \mid \Gamma , \Delta \vd A \ot B}{
		  S \mid \Gamma \vd A
		  &
		  {-} \mid \Delta \vd B
		}
	  \end{array}
    % \begin{array}{c}
		% \infer[\ax]{A \mid \quad \vd A}{}
		% \quad
    %         \infer[\pass]{{-} \mid A , \Gamma \vd C}{A \mid \Gamma \vd C}
		% \quad
    %         \infer[\unitr]{{-} \mid \quad \vd \I}{}
    %         \quad
		% \infer[\unitl]{\I \mid \Gamma \vd C}{{-} \mid \Gamma \vd C}
		% \\[5pt]
    %         \infer[\tl]{A \ot B \mid \Gamma \vd C}{A \mid B , \Gamma \vd C}
		% \quad
		% \infer[\tr]{S \mid \Gamma , \Delta \vd A \ot B}{
		%   S \mid \Gamma \vd A
		%   &
		%   {-} \mid \Delta \vd B
		% }
		% \\[5pt]
		% \infer[\lleft]{A \lolli B \mid \Gamma , \Delta \vd C}{
		%   {-} \mid \Gamma \vd A
		%   &
		%   B \mid \Delta \vd C
		% }
		% \quad
		% \infer[\lright]{S \mid \Gamma \vd A \lolli B}{S \mid \Gamma , A \vd B}
	  % \end{array}
	\end{equation}
The inference rules in (\ref{eq:seqcalc:skmc:Gir}) are similar to the ones in the sequent calculus for non-commutative multiplicative intuitionistic linear logic (\NMILL) \cite{abrusci:noncommutative:1990}, but with some crucial differences: 
% $(i)$ The left logical rules $\unitl$, $\tl$ and $\lleft$, read bottom-up, are only allowed to be applied on the formula in the stoup position. $(ii)$ The right tensor rule $\tr$, read bottom-up, splits the antecedent of a sequent $S \mid \Gamma, \Delta \vd A \ot B$ and in the case where $S$ is a formula, $S$ is always moved to the stoup of the left premise, even if $\Gamma$ is empty.
% $(iii)$ The presence of the stoup distinguishes two types of antecedents, $A \mid \Gamma$ and ${-} \mid A, \Gamma$. The structural rule $\pass$ (for `passivation'), read bottom-up, allows the moving of the leftmost formula in the context to the stoup position whenever the stoup is empty.
% $(iv)$ The logical connectives of \NMILL\ (and associative Lambek calculus) typically include two ordered implications $\lolli$ and $\illol$, which are two variants of linear implication arising from the removal of the exchange rule from intuitionistic linear logic. In \SkNMILL~only the left implication $\lolli$ (right residuation in Lambek calculus) is present. 
\begin{enumerate}
\item The left logical rules $\unitl$, $\tl$ and $\lleft$, read bottom-up, are only allowed to be applied on the formula in the stoup position.
% In particular, there is no general way to remove a unit $\I$ nor decompose a tensor $A \ot B$ if these formulae are located in the context and not in the stoup
%  (we will see in (\ref{eq:lleft:gen}) that something can actually be done to deal with implications $A \lolli B$ in the context).
\item The right tensor rule $\tr$, read bottom-up, splits the antecedent of a sequent $S \mid \Gamma, \Delta \vd A \ot B$ and in the case where $S$ is a formula, $S$ is always moved to the stoup of the left premise, even if $\Gamma$ is empty.
% whereby the formula in the stoup, in case such a formula is present, has to be moved to the stoup of the first premise. In particular, the stoup formula of the conclusion cannot be moved to the antecedent of the second premise even if $\Gamma$ is chosen to be empty.
\item The presence of the stoup distinguishes two types of antecedents, $A \mid \Gamma$ and ${-} \mid A, \Gamma$. The structural rule $\pass$ (for `passivation'), read bottom-up, allows the moving of the leftmost formula in the context to the stoup position whenever the stoup is empty.
\item The logical connectives of \NMILL~typically include two ordered implications $\lolli$ and $\illol$, which are two variants of linear implication arising from the removal of the exchange rule from intuitionistic linear logic. In here, only the left implication $\lolli$ is present. 
% It is currently not clear to us whether the inclusion of the second implication to our logic is a meaningful addition and whether it corresponds to some particular categorical notion.
\end{enumerate}
% The restrictions in 1--4 are essential for precisely capturing all the features of skew monoidal closed categories and nothing more, as we discuss in Section \ref{sec:catsem}.
% Notice also that, similarly to the case of \NMILL, all structural rules of exchange, contraction, and weakening are absent. We give names to derivations and we write $f: S \mid \Gamma \vdash A$ when $f$ is a particular derivation of the sequent $S \mid \Gamma \vdash A$.
For a more detailed explanation and an interpretation of the system as a logic of resources, see \cite[Section 2]{UVW:protsn}.
% a linear logical interpretation of the calculus

This calculus is sound and complete wrt. left skew monoidal closed categories and cut-free, i.e., following two rules are admissible:
\begin{displaymath}
      \infer[\mathsf{scut}]{S \mid \Gamma , \Delta \vd C}{
        \deduce{S \mid \Gamma \vd A}{}
        &
        \deduce{A \mid \Delta \vd C}{}
      }
      \qquad
      \infer[\mathsf{ccut}]{S \mid \Delta_0 , \Gamma , \Delta_1 \vd C}{
        \deduce{{-} \mid \Gamma \vd A}{}
        &
        \deduce{S \mid \Delta_0 , A , \Delta_1 \vd C}{}
      }
    \end{displaymath}
Sets of derivations are quotiented by a congruence relation $\circeq$, generated by the following pairs of derivations.
\begin{displaymath}
\label{fig:circeq}
\footnotesize\begin{array}{ccc}
  % \ax_{\I} &\circeq \unitl \text{ } (\unitr)
    \proofbox{
      \infer[\ax]{\I \mid \quad \vd \I}{}
    }
  \quad 
  &\circeq&
  \quad
  \proofbox{
     \infer[\unitl]{\I \mid \quad \vd \I}{
    \infer[\unitr]{{-} \mid \quad \vd \I}{}
   }
  }
  \\[15pt]
  \proofbox{
    \infer[\ax]{A \ot B \mid \quad \vd A \ot B}{}
  }
  \quad
  &\circeq&
  \quad
  \proofbox{
    \infer[\tl]{A \ot B \mid \quad \vd A \ot B}{
      \infer[\tr]{A \mid B \vd A \ot B}{
        \infer[\ax]{A \mid \quad \vd A}{}
        &
        \infer[\pass]{{-} \mid B \vd B}{
          \infer[\ax]{B \mid \quad \vd B}{}
        }
      }
    }
  }
  \\[15pt]
  \proofbox{
    \infer[\ax]{A \lolli B \mid \quad \vd A \lolli B}{}
  }
  \quad 
  &\circeq&
  \quad
  \proofbox{
    \infer[\lright]{A \lolli B \mid \quad \vd A \lolli B}{
      \infer[\lleft]{A \lolli B \mid A \vd B}{
        \infer[\pass]{{-} \mid A \vd A}{
          \infer[\ax]{A \mid \quad \vd A}{}
        }
        &
        \infer[\ax]{B \mid \quad \vd B}{}
      }
    }
  }
  \\[15pt]
  \proofbox{
    \infer[\tr]{{-} \mid A' , \GG , \GD \vd A \ot B}{
      \infer[\pass]{{-} \mid A' , \GG \vd A}{
        \deduce{A' \mid \GG \vd A}{f}
      }
      &
      \deduce{{-} \mid \GD \vd B}{g}
    }
  }
  \quad
  &\circeq&
  \quad
  \proofbox{
    \infer[\pass]{{-} \mid A' , \GG , \GD \vd A \ot B}{
      \infer[\tr]{A' \mid \GG , \GD \vd A \ot B}{
        \deduce{A' \mid \GG \vd A}{f}
        &
        \deduce{{-} \mid \GD \vd B}{g}
      }
    }
  }
  \\[15pt]
  \proofbox{
    \infer[\tr]{\I \mid \GG , \GD \vd A \ot B}{
      \infer[\unitl]{\I \mid \GG \vd A}{
        \deduce{{-} \mid \GG \vd A}{f}
      }
      &
      \deduce{{-} \mid \GD \vd B}{g}
    }
  }
  \quad
  &\circeq&
  \quad
  \proofbox{
    \infer[\unitl]{\I \mid \GG , \GD \vd A \ot B}{
      \infer[\tr]{{-} \mid \GG , \GD \vd A \ot B}{
        \deduce{{-} \mid \GG \vd A}{f}
        &
        \deduce{{-} \mid \GD \vd B}{g}
      }
    }
  }
  \\[15pt]
  \proofbox{
    \infer[\tr]{A' \ot B' \mid \GG , \GD \vd A \ot B}{
      \infer[\tl]{A' \ot B' \mid \GG \vd A}{
        \deduce{A' \mid B' , \GG \vd A}{f}
      }
      &
      \deduce{{-} \mid \GD \vd B}{g}
    }
  }
  \quad
  &\circeq&
  \quad
  \proofbox{
    \infer[\tl]{A' \ot B' \mid \GG , \GD \vd A \ot B}{
      \infer[\tr]{A' \mid B' , \GG , \GD \vd A \ot B}{
        \deduce{A' \mid B', \GG \vd A}{f}
        &
        \deduce{{-} \mid \GD \vd B}{g}
      }
    }
  }
  \\[15pt]
  \proofbox{
    \infer[\tr]{A' \llolli B' \mid \GG , \GD , \GL \vd A \ot B}{
      \infer[\lleft]{A' \lolli B' \mid \GG , \GD \vd A}{
        \deduce{{-} \mid \GG \vd A'}{f}
        &
        \deduce{B' \mid \GD \vd A}{g}
      }
      &
      \deduce{{-} \mid \GL \vd B}{h}
    }
  }
  \quad
  &\circeq&
  \quad
  \proofbox{
    \infer[\lleft]{A' \lolli B' \mid \GG , \GD  , \GL\vd A \ot B}{
      \deduce{{-} \mid \GG \vd A'}{f}
      &
      \infer[\tr]{B' \mid \GD, \GL \vd A \ot B}{
        \deduce{B' \mid \GD \vd A}{g}
        &
        \deduce{{-} \mid \GL \vd B}{h}
      }
    }
  }
  \\[15pt]
  \proofbox{
    \infer[\pass]{{-} \mid A' , \GG \vd A \lolli B}{
      \infer[\lright]{A' \mid \GG \vd A \lolli B}{
        \deduce{A' \mid \GG , A \vd B}{f}
      }
    }
  }
  \quad
  &\circeq&
  \quad
  \proofbox{
    \infer[\lright]{{-} \mid A' , \GG \vd A \lolli B}{
      \infer[\pass]{{-} \mid A' , \GG , A \vd B}{
        \deduce{A' \mid \GG , A \vd B}{f}
      }
    }
  }
  \\[15pt]
  \proofbox{
    \infer[\unitl]{\I \mid \GG \vd A \lolli B}{
      \infer[\lright]{{-} \mid \GG \vd A \lolli B}{
        \deduce{{-} \mid \GG , A \vd B}{f}
      }
    }
  }
  \quad
  &\circeq&
  \quad
  \proofbox{
    \infer[\lright]{\I \mid \GG \vd A \lolli B}{
      \infer[\unitl]{\I \mid \GG , A \vd B}{
        \deduce{{-} \mid \GG , A \vd B}{f}
      }
    }
  }
  \\[15pt]
  \proofbox{
    \infer[\tl]{A' \ot B' \mid \GG \vd A \lolli B}{
      \infer[\lright]{A' \mid B' , \GG \vd A \lolli B}{
        \deduce{A' \mid B' , \GG , A \vd B}{f}
      }
    }
  }
  \quad
  &\circeq&
  \quad
  \proofbox{
    \infer[\lright]{A' \ot B' \mid \GG \vd A \lolli B}{
      \infer[\tl]{A' \ot B' \mid \GG , A \vd B}{
        \deduce{A' \mid B' , \GG , A \vd B}{f}
      }
    }
  }
  \\[15pt]
  \proofbox{
    \infer[\lleft]{A' \lolli B' \mid \GG , \GD \vd A \lolli B}{
      \deduce{{-} \mid \GG \vd A'}{f}
      &
      \infer[\lright]{B' \mid \GD \vd A \lolli B}{
        \deduce{B' \mid \GD , A \vd B}{g}
      }
    }
  }
  \quad
  &\circeq&
  \quad
  \proofbox{
    \infer[\lright]{A' \lolli B' \mid \GG , \GD \vd A \lolli B}{
      \infer[\lleft]{A' \lolli B' \mid \GG , A \vd B}{
        \deduce{{-} \mid \GG \vd A'}{f}
        &
        \deduce{B' \mid \GD , A \vd B}{g}
      }
    }
  }
\end{array}
\end{displaymath}
% \begin{displaymath}
% \label{fig:circeq}
% \small\begin{array}{rlll}
%   \ax_{\I} &\circeq \unitl \text{ } (\unitr)
%   \\[2pt]
%   \ax_{A \ot B} &\circeq \tl \text{ } (\tr \text{ } (\ax_{A} , \pass \text{ } \ax_{B}))
%   \\[2pt]
%   \ax_{A \lolli B} &\circeq \lright \text{ } (\lleft \text{ } (\pass \text{ } \ax_{A}, \ax_{B} ))
%   \\[2pt]
%   \tr \text{ } (\pass \text{ } f, g) &\circeq \pass \text{ } (\tr \text{ } (f, g)) &&f : A' \mid \Gamma \vdash A, g : {-} \mid \Delta \vdash B
%   \\[2pt]
%   \tr \text{ } (\unitl \text{ } f, g) &\circeq \unitl \text{ } (\tr \text{ } (f , g)) &&f : {-} \mid \Gamma \vdash A , g : {-} \mid \Delta \vdash B
%   \\[2pt]
%   \tr \text{ } (\tl \text{ } f, g) &\circeq \tl \text{ } (\tr \text{ } (f , g)) &&f : A' \mid B' , \Gamma \vdash A , g : {-} \mid \Delta \vdash B
%   \\[2pt]
%   \tr \text{ } (\lleft \text{ } (f , g), h) & \circeq \lleft \text{ } (f, \tr \text{ } (g, h)) &&f: {-} \mid \Gamma \vdash A, g : B \mid \Delta \vdash C, h : {-} \mid \Lambda \vdash D
%   \\[2pt]
%   \pass \text{ } (\lright \text{ } f) &\circeq \lright \text{ } (\pass \text{ } f) &&f : A' \mid \Gamma , A \vdash B
%   \\[2pt]
%   \unitl \text{ } (\lright \text{ } f) &\circeq \lright \text{ } (\unitl \text{ } f) &&f : {-} \mid \Gamma , A \vdash B
%   \\[2pt]
%   \tl \text{ } (\lright \text{ } f) &\circeq \lright \text{ } (\tl \text{ } f) &&f : A \mid B , \Gamma , C \vdash D
%   \\[2pt]
%   \lleft \text{ } (f, \lright \text{ } g) &\circeq \lright \text{ } (\lleft \text{ } (f, g)) &&f : {-} \mid \Gamma \vdash A', g : B' \mid \Delta , A \vdash B
% \end{array}
% \end{displaymath}
The first three equations above are $\eta$-conversions, completely characterizing the $\ax$ rule on non-atomic formulae. The remaining equations are permutative conversions.
\section{Interpolation}\label{sec:interpolation}
In this section, we adapt Maehara's method to prove that \SkNMILL~enjoys Craig interpolation.
Maehara's method is based on cut-free sequent calculi.
The process is to prove Maehara interpolation, and then argue that Craig interpolation is a corollary.

Given a formula $A$ and an atomic formula $X$, $\gs{A}$ is a composition of two functions, one transforms a formula to a list of atomic formulae and the other counts the occurrences of $X$.
Given a context $\GG$ and an atomic formula $X$, $\gs{\GG}$ is a composition of three functions, the first transforms each formula in $\GG$ to a list of atomic formulae, the second merges the lists into one list and the last counts the occurrences of $X$.

Adapted from \cite[Chapter 2.10]{moot:categorial:2012}, the Maehara interpolation for the associative Lambek calculus is:
\begin{itemize}
  \item[\ ] Given $f : \Gamma \vdash C$ and any partition $\langle \Gamma_0, \Gamma_1, \Gamma_2 \rangle$ of $\Gamma$, where $\GG_1$ is non-empty, there exists a formula $D$ such that
  \begin{itemize}
    \item[--] $g : \Gamma_1 \vdash D$,
    \item[--] $h : \Gamma_0, D, \Gamma_2 \vdash C$, and 
    \item[--] $\gs{D} \leq \gs{\GG_1}$ and  $\gs{D} \leq \gs{\GG_0 , \GG_1 , D}$ for every $X$.
  \end{itemize}
\end{itemize}
The proof proceeds by induction on the height of derivations and we should exhaust all cases of any partition.
\\
It is natural to attempt to prove a similar statement for \SkNMILL:

% The statement of $\mf{ccut}$-interpolation does not align with the general structure of interpolation in non-commutative substructural logic, because the general form of the statement is unprovable in \SkNMILL.
% To illustrate this, consider the following statement:
\begin{itemize}
  \item[\ ] Given $f: S \mid \Gamma \vd C$ and any partition $\langle \GG_0,\GG_1, \GG_2 \rangle$ of $\GG$, there exists a formula $D$ such that 
  \begin{itemize}
    \item[--] $g : {-} \mid \GG_1 \vd D$,
    \item[--] $h : S \mid \GG_0, D, \GG_2 \vd C$, and
    \item[--] $\gs{D} \leq \gs{\GG_1}$ and $\gs{D} \leq \gs{S , \GG_0 , \GG_2 , C}$ for every $X$.    
  \end{itemize}
\end{itemize}
However, this statement is not provable in \SkNMILL.
The critical case is $f = \tr (f',f'')$ with the partition $\langle \GG_0, (\GG'_1, \GG''_1), \GG_2\rangle$ and two derivations $f' : S \mid \GG_0 , \GG'_1 \vd A$ and $f'' : {-} \mid \GG''_1 , \GG_2 \vd B$.
By induction on $f'$ and the partition $\langle \GG_0 , \GG'_1, [\ ] \rangle$, and on $f''$ and the partition $\langle [\ ], \GG''_1, \GG_2\rangle$ respectively, we have a formula $D$, $g' : {-} \mid \GG'_1 \vd D$, and $h': S \mid \GG_0 , D \vd A$ and a formula $E$, $g'' : {-} \mid \GG''_1 \vd E$ and $h'': {-} \mid E, \GG_2 \vd B$.
We obtain $\tr (g',g'') : {-} \mid \GG'_1, \GG''_1 \vd D \ot E$ and $\tr (h', h'') : S \mid \GG_0, D, E, \GG_1 \vd A \ot B$, so the last step is to produce $D \ot E$ in the latter.
But we get stuck because $\tl$ cannot be applied on formulae in context.

For example, suppose $f = \tr (f',f''): X \mid Y, Z \vd (X\ot Y)\ot Z$ where $f':X \mid Y \vd X\ot Y$ and $f'': {-} \mid Z \vd Z$, then given the partition $\langle [\ ], (Y,Z), [\ ]\rangle$, our goal is to find a formula $D$ and two derivations $g: {-} \mid Y, Z \vd D$ and $X \mid D \vd (X\ot Y)\ot Z$.
Because $Y$ and $Z$ are atomic, the only possibility is that $D = Y \ot Z$, however, the sequent $X \mid Y \ot Z \vd (X \ot Y) \ot Z$ does not have a proof in \SkNMILL.
\begin{equation*}\label{example:ccut:failure}
  \small\begin{array}{c}
    \infer[\tr]{X \mid Y \ot Z \vd (X \ot Y) \ot Z}{
    \deduce{X \mid Y\ot Z \vd X \ot Y}{??}
    &
    \deduce{{-} \mid \quad \vd Z}{??}
  }
  \qquad
  \infer[\tr]{X \mid Y \ot Z \vd (X \ot Y) \ot Z}{
    \infer[\tr]{X \mid \quad \vd X \ot Y}{
      \infer[\ax]{X \mid \quad \vd X}{}
      &
      \deduce{{-} \mid \quad \vd Y}{??}
    }
    &
    \infer[\pass]{{-} \mid Y \ot Z \vd Z}{
      \infer[\tl]{Y \ot Z \mid \quad \vd Z}{
        \deduce{Y \mid Z \vd Z}{??}
      }
    }
  }
  \end{array}
\end{equation*}
In general, the rule
\begin{displaymath}
\begin{array}{c}
  \infer[\ot\mf{C}]{S \mid \GG , A \ot B , \GD \vd C}{
    \deduce{S \mid \GG, A , B , \GD \vd C}{}
  }
\end{array}
\end{displaymath}
is not admissible in \SkNMILL.
\\
This situation is similar to those of proving interpolation of the product-free Lambek calculus \cite{Pentus1997} and implicational fragment of intuitionistic logic \cite{Kanazawa2006}.
In both cases above, the formula-version of Maehara interpolation fails  because the additive ($\land$) and multiplicative ($\cdot$) conjunction are not present, respectively.
For example, consider the sequent $W, W\bsls Y, W , W \bsls X , X \bsls (Y \bsls Z) \longrightarrow Z $ with the partition $\langle [\ ] , [W, W\bsls Y, W , W \bsls X], [X \bsls (Y \bsls Z)] \rangle$ in the product-free Lambek calculus.
By Maehara's method, the interpolant formula should be $X \cdot Y$, but the calculus does not include $\cdot$ as a connective.
However, \SkNMILL~has a multiplicative conjunction $\ot$.
It fails because $\tl$ cannot be applied arbitrarily in the antecedent.
This is an instance of a sequent calculus failing to have the formula-version of Maehara interpolation for a different reason.

For \SkNMILL, we should prove the following two statements of Maehara interpolation.
\genIntrp
% \begin{theorem}\label{genIntrp}
% ~
% \\
% ($\mf{scut}$-interpolation) Given $f: S \mid \Gamma \vd C$ and any partition $\langle \GG_0,\GG_1 \rangle$ of $\GG$, there exists a formula $D$ 
% such that
% \begin{itemize}
%   \item[--] $g : S \mid \GG_0 \vd D$,
%   \item[--] $h : D \mid \GG_1 \vd C$, and 
%   \item[--] $\gs{D} \leq \gs{S , \GG_0}$ and $\gs{D} \leq \gs{\GG_1 , C}$ for every $X$.
% \end{itemize}
% %   , where $s(S) = I$ if $S = {-}$ or $s(S) = B$ if $S = B$.
%   ($\mf{ccut}$-interpolation) Given $f: S \mid \Gamma \vd C$ and any partition $\langle \GG_0,\GG_1, \GG_2 \rangle$ of $\GG$, there exist a partition of $\langle \GD_1, \dots, \GD_n \rangle$ of $\GG_1$ and a list of interpolant formulae $D_1, \dots, D_n$ such that
%   \begin{itemize}
%     \item[--] $g: S \mid \GG_0, D_1, \dots, D_n, \GG_2 \vd C$,
%     \item[--] $h_i : {-} \mid \GD_i \vd D_i$ for $i \in [1\dots n]$,
%     \item[--] $\gs{D_i} \leq \gs{\GD_i}$ for $i \in [1 \dots n]$ and $\gs{D_1, \dots, D_n} \leq \gs{S, \GG_0, \GG_2, C}$ for every $X$.
%   \end{itemize}
% \end{theorem}
These two statements are proved mutually by induction on derivations.
We separate the proofs for readability.
\begin{proof}[Proof of $\mf{scut}$-interpolation]
The first base case is $f = \ax : A \mid \quad \vd A$, which enforces $\GG_0 = \GG_1 = [\ ]$.
In this case, the interpolant formula is $A$ and $g = h = f = \ax : A \mid \quad \vd A$, where the multiplicity condition is automatically satisfied.
Another base case is $f = \unitr : {-} \mid \quad \vd A$.
Similarly, $\GG_0$ and $\GG_1$ are enforced to be empty lists.
In this case, the interpolant formulae is $\I$ and $g = f = \unitr : {-} \mid \quad \vd \I$ and $h = \unitl (\unitr) : \I \mid \quad \vd \I$, where the multiplicity condition is vacuously satisfied.

For inductive cases, we first deal with one-premise rules.
The first group of one-premise rules are $\unitl, \tl$, and $\lright$.
We show the case of $f = \unitl \ f'$, while the other two are similar.
Given a derivation $\unitl \ f' : \I \mid \GG \vd C$ and a partition $\langle \GG_0, \GG_1 \rangle$ of $\GG$, we apply induction on $f'$ with the same partition of $\GG$ and then obtain a formula $D$ such that 
\begin{itemize}
  \item[--] $g' : {-} \mid \GG_0 \vd D$,
  \item[--] $h' : D \mid \GG_1 \vd C$, and
  \item[--] $\gs{D} \leq \gs{\GG_0}$ and $\gs{D} \leq \gs{\GG_1 , C}$ for every $X$.
\end{itemize}
In this case, the interpolant formula for $f$ is $D$, and two desired derivations are $g = \unitl \ g'$ and $h = h'$.
The multiplicity condition is automatically satisfied.

The last case of one-premise rules is $ f = \pass \ f'$.
There are two subcases determined by the partition of $\GG$, specifically, $\GG_0$ is an empty list or not.
\begin{itemize}
  \item[--] If $\GG_0 = [\ ]$, then the interpolant is $\I$ and two desired derivations are $\unitr$ and $\unitl (\pass \ f')$.
The multiplicity condition is satisfied because $\gs{\I} = 0$ for every $X$.
  \item[--] If $\GG_0 = A, \GG'_0$, then we apply induction on $f'$ with the partition $\langle \GG'_0, \GG_1 \rangle$ and then obtain a formula $D$ and two derivations $g' : A \mid \GG'_0 \vd D$ and $h' : D \mid \GG_1 \vd C$, where $\gs{D} \leq \gs{A, \GG'_0} $ and $ \gs{D} \leq \gs{\GG_1, C}$ for every $X$.
In this case, the interpolant formula for $f$ is $D$, and two desired derivations are $g = \pass \ g'$ and $h = h'$.
The multiplicity condition is satisfied by the inductive hypothesis.
\end{itemize} 
For two-premises rules, we first check $f = \tr (f',f'')$.
The first case of $\tr$ is the partition $\langle (\GG_0, \GG_1), \GG_2 \rangle$ ($\GG_1$ is a non-empty list) with $f' : S \mid \GG_0 \vd A$ and $f'': {-} \mid \GG_1, \GG_2 \vd B$.
In this case, we apply induction on $f'$ with the partition $\langle \GG_0 , [\ ] \rangle $and $f''$ with the partition $\langle \GG_1 , \GG_2 \rangle$ respectively to obtain
\begin{itemize}
  \item[--] a formula $E$ and two derivations $g' : S \mid \GG_0 \vd E$, $h' : E \mid \quad \vd A$ such that $\gs{E} \leq \gs{S, \GG_0} $ and $ \gs{E} \leq \gs{A}$ for every $X$, and
  \item[--] a formula $F$ and two derivations $g'' : {-} \mid \GG_1 \vd F$ and $h'' : F \mid \GG_2 \vd B$ such that $\gs{F} \leq \gs{\GG_1} $ and $\gs{\GG_2, B}$ for every $X$.
\end{itemize}
Then the desired interpolant formula is $E \ot F$ and the desired derivations are
\begin{displaymath}
  \begin{array}{c}
  \begin{array}{c}
    g
  \end{array}
  \quad
  =
  \quad
  \begin{array}{c}
    \infer[\tr]{S \mid \GG_0 , \GG_1 \vd E \ot F}{
      \deduce{S \mid \GG_0 \vd E}{g'}
      &
      \deduce{{-} \mid \GG_1 \vd F}{g''}
    }
  \end{array}
    \quad
    \begin{array}{c}
      h
    \end{array}
    \quad
    =
    \quad
    \begin{array}{c}
      \infer[\tl]{E \ot F \mid \GG_2 \vd A \ot B}{
      \infer[\tr]{E \mid F , \GG_2 \vd A \ot B}{
        \deduce{E \mid \quad \vd A}{h'}
        &
        \infer[\pass]{{-} \mid F , \GG_2 \vd B}{
          \deduce{F \mid \GG_2 \vd B}{h''}
        }
      }
    }
    \end{array}
  \end{array}
\end{displaymath}
The multiplicity condition is satisfied because $\gs{E \ot F} = \gs{E} + \gs{F} \leq \gs{S , \GG_0} + \gs{\GG_1} = \gs{S, \GG_0 , \GG_1}$ and $\gs{E \ot F} = \gs{E} + \gs{F} \leq \gs{A} + \gs{\GG_2 , B} = \gs{A, \GG_2 , B} = \gs{\GG_2, A \ot B}$ for every $X$.

The second case of $\tr$ is the partition $\langle \GG_0, (\GG_1 , \GG_2) \rangle$ with $f' : S \mid \GG_0 , \GG_1 \vd A$ and $f'' : {-} \mid \GG_2 \vd B$.
In this case, we apply induction on $f'$ with the partition $\langle \GG_0 , \GG_1 \rangle$ and then obtain a formula $D$ and two derivations $g' : S \mid \GG_0 \vd D$ and $h' : D \mid \GG_1 \vd A$ such that $\gs{D} \leq \gs{S, \GG_0} $ and $ \gs{D} \leq \gs{\GG_1 , A}$ for every $X$.
The interpolant formula is $D$ and the desired derivations are $g = g'$ and $h = \tr (h' , f'') : D \mid \GG_1 , \GG_2 \vd A \ot B$.
The multiplicity condition is satisfied because $\gs{D} \leq \gs{\GG_1 , A} \leq \gs{\GG_1 , \GG_2 , A \ot B}$ for every $X$.

The first case of $\lleft$ is the partition $\langle \GG_0, (\GG_1, \GG_2) \rangle$ ($\GG_1$ is non-empty) of $\GG$ with $f' : {-} \mid \GG_0, \GG_1 \vd A$ and $f'': B \mid \GG_2 \vd C$.
Our goal is to find a formula $D$ and derivations $g : A\lolli B \mid \GG_0 \vd D$ and $h: D \mid \GG_1, \GG_2 \vd C$.
We first apply inductive hypothesis of $\mf{ccut}$-interpolation on $f'$ with the partition $\langle \GG_0 , \GG_1 , [\ ]\rangle$ and obtain a partition $\langle \GD_1, \dots , \GD_n \rangle$ of $\GG_1$ and a list of formulae $D_1 , \dots , D_n$ such that
\begin{itemize}
  \item[--] $g': {-} \mid \GG_0 , D_1, \dots, D_n \vd A$
  \item[--] $h'_i : {-} \mid \GD_i \vd D_i$, for $i \in [1\dots n]$, and 
  \item[--] $\gs{D_i} \leq \gs{\GD_i}$ for $i \in [1 \dots n]$ and $\gs{D_1 , \dots , D_n} \leq \gs{\GG_0 , A}$ for every $X$.
\end{itemize}
By applying inductive hypothesis of $\mf{scut}$-interpolation on $f''$ with the partition $\langle [\ ] , \GG_2 \rangle$, we obtain a formula $E$ and derivations $g'' : B \mid \quad \vd E$ and $h'': E \mid \GG_2 \vd C$ such that $\gs{E} \leq\gs{B}$ and $ \gs{E} \leq \gs{\GG_2 , C}$ for every $X$.
Then we construct the desired derivations as follows:
% \begin{displaymath}
% \begin{array}{c}
%   \begin{array}{c}
%     g
%   \end{array}
%   \quad 
%   =
%   \quad
%     \begin{array}{c}
%       \infer[\lright]{A\lolli B \mid \GG_0 \vd D_1 \lolli (\dots (D_n \lolli E)\dots)}{
%       \deduce{\vdots}{
%         \infer[\lright]{A \lolli B \mid \GG_0 , D_1, \dots ,D_{n-1} \vd D_n \lolli E}{
%         \infer[\lleft]{A \lolli B \mid \GG_0 , D_1, \dots, D_n \vd E}{
%           \deduce{{-} \mid \GG_0 , D_1, \dots, D_n \vd A}{g'}
%           &
%           \deduce{B \mid \quad \vd E}{g''}
%         }
%       }
%       }
%     }
%     \end{array}
%     \\[10pt]
%     \begin{array}{c}
%       h
%     \end{array}
%     \quad
%     =
%     \quad
%     \begin{array}{c}
%       \infer[\lleft]{D_1 \lolli (\dots (D_n \lolli E)\dots) \mid \GD_1, \dots, \GD_n, \GG_2 \vd C}{
%       \deduce{{-} \mid \GD_1 \vd D_1}{h'_1}
%       &
%       \deduce{D_2 \lolli (\dots (D_n \lolli E)\dots) \mid \GD_2, \dots, \GD_n, \GG_2 \vd C}{
%         \deduce{\vdots}{
%           \infer[\lleft]{D_n \lolli E \mid \GD_n, \GG_2 \vd C}{
%             \deduce{{-} \mid \GD_n, \GG_2 \vd D_n}{h'_n}
%             &
%             \deduce{E \mid \GG_2 \vd C}{h''}
%           }
%         }
%       }
%     }
%     \end{array}
%   \end{array}
% \end{displaymath}
\begin{displaymath}
\begin{array}{c}
  \begin{array}{c}
    g
  \end{array}
  \quad 
  =
  \quad
    \begin{array}{c}
      \infer[\lright]{A\lolli B \mid \GG_0 \vd D_1 \lolli (\dots (D_n \lolli E)\dots)}{
      \deduce{\vdots}{
        \infer[\lright]{A \lolli B \mid \GG_0 , D_1, \dots ,D_{n-1} \vd D_n \lolli E}{
        \infer[\lleft]{A \lolli B \mid \GG_0 , D_1, \dots, D_n \vd E}{
          \deduce{{-} \mid \GG_0 , D_1, \dots, D_n \vd A}{g'}
          &
          \deduce{B \mid \quad \vd E}{g''}
        }
      }
      }
    }
    \end{array}
  \end{array}
\end{displaymath}
\begin{displaymath}
    \begin{array}{c}
      h
    \end{array}
    \quad
    =
    \quad
    \begin{array}{c}
      \infer[\lleft]{D_1 \lolli (\dots (D_n \lolli E)\dots) \mid \GD_1, \dots, \GD_n, \GG_2 \vd C}{
      \deduce{{-} \mid \GD_1 \vd D_1}{h'_1}
      &
      \deduce{D_2 \lolli (\dots (D_n \lolli E)\dots) \mid \GD_2, \dots, \GD_n, \GG_2 \vd C}{
        \deduce{\vdots}{
          \infer[\lleft]{D_n \lolli E \mid \GD_n, \GG_2 \vd C}{
            \deduce{{-} \mid \GD_n, \GG_2 \vd D_n}{h'_n}
            &
            \deduce{E \mid \GG_2 \vd C}{h''}
          }
        }
      }
    }
    \end{array}
\end{displaymath}
Notice that $\GG_1 = \GD_1, \dots, \GD_n$, so the multiplicity condition is easy to check.

The second case of $\lleft$ is the partition $\langle (\GG_0 , \GG_1) , \GG_2 \rangle$ with derivations $f' : {-} \mid \GG_0 \vd A$ and $f'' : B \mid \GG_1 , \GG_2 \vd C$.
In this case, we apply the inductive hypothesis of $\mf{scut}$-interpolation on $f''$ with the partition $\langle \GG_1 , \GG_2 \rangle$ and then obtain a formula $D$, and two derivations $g'' : B \mid \GG_1 \vd D$ and $h'' : D \mid \GG_2 \vd C$ such that $\gs{D} \leq \gs{B , \GG_1}$ and $ \gs{D} \leq \gs{\GG_2 , C}$ for every $X$.
The interpolant formula is $D$ and the desired derivations are $g = \lleft (f' , g'') : A \lolli B \mid \GG_0 , \GG_1 \vd D$ and $h = h''$.
The multiplicity condition is satisfied because $\gs{D} \leq \gs{B , \GG_1} \leq \gs{A \lolli B , \GG_0 , \GG_1}$ for every $X$.
\end{proof}
\begin{proof}[Proof of $\mf{ccut}$-interpolation]
The first base case is $f  = \ax : A \mid \quad \vd A$, which means that $\GG_0 = \GG_1 = \GG_2 = [\ ]$.
In this case, the partition of $\GG_1$ is $\langle [\ ] \rangle$ and the list of formulae and list of derivations are empty lists.
Another base case $f = \unitr$ is similar.

For inductive cases, we first deal with one-premise rules. 
The first group of rules are $\unitl$, $\tl$, and $\lright$. 
We show the case of $f = \unitl \ f'$, while the other two are similar.
Given a derivation $\unitl \ f' : \I \mid \GG \vd C$ and a partition $\langle \GG_0 , \GG_1 , \GG_2\rangle$ of $\GG$.
By induction, we have 
\begin{itemize}
  \item[--] a partition $\langle \GD_0, \dots , \GD_0 \rangle$ of $\GG_1$, 
  \item[--] a list of interpolant formulae $D_1, \dots , D_n$ and
  \item[--] derivations $g' : {-} \mid \GG_0 , D_1 , \dots , D_n , \GG_2 \vd C$ and $h'_i : {-} \mid \GD_i \vd D_i$, for $i \in [1 \dots n]$
  \item[--]  $\gs{D_i} \leq \gs{\GD_i}$ for $i \in [1 \dots n]$ and $\gs{D_1, \dots, D_n} \leq \gs{S, \GG_0, \GG_2, C}$ for every $X$.
\end{itemize}
In this case, the partition, the list of interpolant formulae are the same as the inductive hypothesis.
The desired derivations are $g = \unitl \ g'$ and $h_i = h'_i$ for $i \in [1 \dots n]$.
The multiplicity condition is automatically satisfied.

The critical case among one-premise rules is $f = \pass \ f'$, with the partition $\langle [\ ], (A, \GG_1) , \GG_2 \rangle$ and derivation $f' : A \mid \GG_1 , \GG_2 \vd C$.
In this case, we apply the inductive hypothesis of $\mf{scut}$-interpolation on $f'$ and obtain a formula $D$ such that 
\begin{itemize}
  \item[--] $g': A \mid \GG_1 \vd D$,
  \item[--] $h' : D \mid \GG_2 \vd C$, and
  \item[--] $\gs{D} \leq \gs{A , \GG_1}$ and $\gs{D} \leq \gs{\GG_2 , C}$ for every $X$.
\end{itemize}
The desired derivations are $\pass \ g' : {-} \mid A , \GG_1 \vd D$ and $\pass \ h' : {-} \mid D, \GG_2 \vd C$, i.e. the partition of $A, \GG_1$ is itself and the list of formulae is the singleton list $[D]$.
The multiplicity condition is satisfied by hypothesis.

Next we deal with two-premises rules.
We show the case $f = \tr (f' , f'')$, while the case of $\lleft$ is similar.
Given a derivation $\tr (f' , f'')$, where $f' : S \mid \GL \vd A$ and $f'' : {-} \mid \GO \vd B$ and the partition $\langle \GG_0 , \GG_1, \GG_2 \rangle$ of $(\GL, \GO)$, there are three cases:
\begin{enumerate}
  \item If $\GG_0 = (\GG'_0 , \GG''_0)$ where $\GL = \GG'_0$ and $\GO = (\GG''_0 , \GG_1 , \GG_2)$, then we apply induction on $f''$ to obtain a partition $\langle \GD_0, \dots , \GD_0 \rangle$ of $\GG_1$ and a list of interpolant formulae $D_1, \dots , D_n$ such that
  \begin{itemize}
    \item[--] $g'' : {-} \mid \GG''_0 , D_1 , \dots , D_n , \GG_2 \vd B$,
    \item[--] $h''_i : {-} \mid \GD_i \vd D_i$, for $i \in [1 \dots n]$, and 
    \item[--] $\gs{D_i} \leq \gs{\GD_i}$ for $i \in [1 \dots n]$ and $\gs{D_1, \dots , D_n} \leq \gs{ \GG''_0 , \GG_2 , B}$ for every $X$.
  \end{itemize}
  The desired derivations are $g = \tr (f' , g'')$ and $h_i = h''_i$ for $i \in [1 \dots n]$.
  The multiplicity condition is satisfied because $\gs{D_1 , \dots , D_n} \leq \gs{ \GG''_0 , \GG_2 , B} \leq \gs{S, \GG'_0, \GG''_0 , \GG_2 , A \ot B}$.
  \item If $\GG_1 = (\GG'_1 , \GG''_1)$ where $\GL = (\GG_0 , \GG'_1)$ and $\GO = (\GG''_1 , \GG_2)$, then we apply induction on $f'$ and $f''$ respectively to obtain
  \begin{itemize}
    \item[--] a partition $\langle \GD'_0, \dots , \GD'_0 \rangle$ of $\GG'_1$ and a list of interpolant formulae $D'_1, \dots , D'_n$ such that
    \item[--] $g' : S \mid \GG_0 , D'_1 , \dots , D'_n \vd A$,
    \item[--] $h'_i : {-} \mid \GD'_i \vd D'_i$, for $i \in [1 \dots n]$, and 
    \item[--] $\gs{D'_i} \leq \gs{\GD'_i}$ for $i \in [1 \dots n]$ and $\gs{D'_1 , \dots , D'_n} \leq \gs{ S, \GG_0 , A}$ for every $X$ and
  \end{itemize}
  \begin{itemize}
    \item[--] a partition $\langle \GD''_0, \dots , \GD''_0 \rangle$ of $\GG''_1$ and a list of interpolant formulae $D''_1, \dots , D''_m$ such that
    \item[--] $g'' : {-} \mid D''_{n+1} , \dots , D''_{n+m} , \GG_2 \vd B$, 
    \item[--] $h''_i : {-} \mid \GD''_i \vd D''_i$, for $i \in [n+1 \dots n+m]$, and
    \item[--] $\gs{D''_{i}} \leq \gs{\GD''_{i}}$ for $i \in [n+1 \dots n+m]$ and $\gs{D''_{n+1} , \dots , D''_{n+m}} \leq \gs{\GG_2 , B}$ for every $X$.
  \end{itemize}
  The desired derivations are 
  \begin{itemize}
    \item[--] $g = \tr(g' , g'') : S \mid \GG_0 , D'_1 , \dots , D'_n , D''_{n+1} , \dots , D''_{n+m} , \GG_2 \vd A \ot B$ and 
    \item[--] for $i \in [1 \dots n+m]$, if $i \leq n$, then $h_i = h'_i$. Otherwise, let $h_i = h''_i$.
  \end{itemize}
  We abbreviate $D'_1 , \dots , D'_n$ as $[D']$, $\GD'_1, \dots , \GD'_n$ as $[\GD']$, $D''_{n+1} , \dots , D''_{n+m}$ as $[D'']$, and $\GD''_{n+1}, \dots , \GD''_{n+m}$ as $[\GD'']$. 
  For the multiplicity condition, we argue that for every $X$
  \begin{itemize}
    \item[--] by inductive hypothesis, we know that $\gs{[D']} \leq \gs{[\GD']}$ and $\gs{[D'']} \leq \gs{[\GD'']}$;
    \item[--] by the definition of $\sigma_{X}$, we have $\gs{[D'], [D'']} \leq \gs{[\GD'] , [\GD'']}$;
    \item[--] by inductive hypothesis, we know that $\gs{[D']} \leq \gs{ S, \GG_0 , A}$ and $\gs{[D'']} \leq \gs{\GG_2 , B}$;
    \item[--] by the definition of $\sigma_{X}$, we have $\gs{[D'], [D'']} \leq \gs{ S, \GG_0 , A , \GG_2 , B} = \gs{S , \GG_0 , \GG_2 , A \ot B}$
  \end{itemize}
  Therefore, $\gs{[D'], [D'']} \leq \gs{[\GD'] , [\GD'']} $ and $ \gs{[D'] , [D'']} \leq \gs{S , \GG_0 , \GG_2 , A \ot B}$, as desired.
  % By inductive hypothesis, we know that $\gs{[D']} \subseteq \gs{[\GD']}$ and $\gs{[D'']} \subseteq \gs{[\GD'']}$.
  % By the definition of $\mf{var}$, we have $\gs{[D'], [D'']} \subseteq \gs{[\GD'] , [\GD'']}$.
  % By inductive hypothesis, we know that $\gs{[D']} \subseteq \gs{ S, \GG_0 , A}$ and $\gs{[D'']} \subseteq \gs{\GG_2 , B}$.
  % By the definition of $\mf{var}$, we have $\gs{[D'], [D'']} \subseteq \gs{ S, \GG_0 , A , \GG_2 , B} = \gs{S , \GG_0 , \GG_2 , A \ot B}$.
  % Therefore, $\gs{[D'], [D'']} \subseteq \gs{[\GD'] , [\GD'']} \cap \gs{S , \GG_0 , \GG_2 , A \ot B}$, as desired.
  \item The case $\GG_2 = (\GG'_2 , \GG''_2)$ where $\GL = \GG_0 , \GG_1, \GG'_2$ and $\GO = \GG''_2$ is similar to the first case.
\end{enumerate}
\end{proof}
% \begin{lemma}\label{lem:ccut:intrp}
% ~
%   ($\mf{ccut}$-interpolation) Given $f: S \mid \Gamma \vd C$ and any partition $\langle \GG_0,\GG_1, \GG_2 \rangle$ of $\GG$, there exist a partition of $\langle \GD_1, \dots, \GD_n \rangle$ of $\GG_1$, a list of interpolant formulae $D_1, \dots, D_n$ such that
%   \begin{itemize}
%     \item[--] $g: S \mid \GG_0, D_1, \dots, D_n, \GG_2 \vd C$,
%     \item[--] $h_i : {-} \mid \GD_i \vd D_i$ for $i \in [1\dots n]$,
%     \item[--] $\gs{D_i} \leq \gs{\GD_i}$ for $i \in [1 \dots n]$ and $\gs{D_1, \dots, D_n} \leq \gs{S, \GG_0, \GG_2, C}$ for every $X$.
%   \end{itemize}
% \end{lemma}
% \begin{proof}
% The first base case is $f  = \ax : A \mid \quad \vd A$, which means that $\GG_0 = \GG_1 = \GG_2 = [\ ]$.
% In this case, the partition of $\GG_1$ is $\langle [\ ] \rangle$ and the list of formulae and list of derivations are empty lists.
% Another base case $f = \unitr$ is similar.

% For inductive cases, we first deal with one-premise rules. 
% The first group of rules are $\unitl$, $\tl$, and $\lright$. 
% We show the case of $f = \unitl \ f'$, while the other two are similar.
% Given a derivation $\unitl \ f' : \I \mid \GG \vd C$ and a partition $\langle \GG_0 , \GG_1 , \GG_2\rangle$ of $\GG$.
% By induction, we have 
% \begin{itemize}
%   \item[--] a partition $\langle \GD_0, \dots , \GD_0 \rangle$ of $\GG_1$, 
%   \item[--] a list of interpolant formulae $D_1, \dots , D_n$ and
%   \item[--] derivations $g' : {-} \mid \GG_0 , D_1 , \dots , D_n , \GG_2 \vd C$ and $h'_i : {-} \mid \GD_i \vd D_i$, for $i \in [1 \dots n]$
%   \item[--]  $\gs{D_i} \leq \gs{\GD_i}$ for $i \in [1 \dots n]$ and $\gs{D_1, \dots, D_n} \leq \gs{S, \GG_0, \GG_2, C}$ for every $X$.
% \end{itemize}
% In this case, the partition, the list of interpolant formulae are the same as the inductive hypothesis.
% The desired derivations are $g = \unitl \ g'$ and $h_i = h'_i$ for $i \in [1 \dots n]$.
% The multiplicity condition is automatically satisfied.

% The critical case among one-premise rules is $f = \pass \ f'$, with the partition $\langle [\ ], (A, \GG_1) , \GG_2 \rangle$ and derivation $f' : A \mid \GG_1 , \GG_2 \vd C$.
% In this case, we apply the inductive hypothesis of $\mf{scut}$-interpolation on $f'$ and obtain a formula $D$ such that 
% \begin{itemize}
%   \item[--] $g': A \mid \GG_1 \vd D$,
%   \item[--] $h' : D \mid \GG_2 \vd C$, and
%   \item[--] $\gs{D} \leq \gs{A , \GG_1}$ and $\gs{D} \leq \gs{\GG_2 , C}$ for every $X$.
% \end{itemize}
% The desired derivations are $\pass \ g' : {-} \mid A , \GG_1 \vd D$ and $\pass \ h' : {-} \mid D, \GG_2 \vd C$, i.e. the partition of $A, \GG_1$ is itself and the list of formulae is the singleton list $[D]$.
% The multiplicity condition is satisfied by hypothesis.

% Next we deal with two-premises rules.
% We show the case $f = \tr (f' , f'')$, while the case of $\lleft$ is similar.
% Given a derivation $\tr (f' , f'')$, where $f' : S \mid \GL \vd A$ and $f'' : {-} \mid \GO \vd B$ and the partition $\langle \GG_0 , \GG_1, \GG_2 \rangle$ of $(\GL, \GO)$, there are three cases:
% \begin{enumerate}
%   \item If $\GG_0 = (\GG'_0 , \GG''_0)$ where $\GL = \GG'_0$ and $\GO = (\GG''_0 , \GG_1 , \GG_2)$, then we apply induction on $f''$ to obtain a partition $\langle \GD_0, \dots , \GD_0 \rangle$ of $\GG_1$ and a list of interpolant formulae $D_1, \dots , D_n$ such that
%   \begin{itemize}
%     \item[--] $g'' : {-} \mid \GG''_0 , D_1 , \dots , D_n , \GG_2 \vd B$,
%     \item[--] $h''_i : {-} \mid \GD_i \vd D_i$, for $i \in [1 \dots n]$, and 
%     \item[--] $\gs{D_i} \leq \gs{\GD_i}$ for $i \in [1 \dots n]$ and $\gs{D_1, \dots , D_n} \leq \gs{ \GG''_0 , \GG_2 , B}$ for every $X$.
%   \end{itemize}
%   The desired derivations are $g = \tr (f' , g'')$ and $h_i = h''_i$ for $i \in [1 \dots n]$.
%   The multiplicity condition is satisfied because $\gs{D_1 , \dots , D_n} \leq \gs{ \GG''_0 , \GG_2 , B} \leq \gs{S, \GG'_0, \GG''_0 , \GG_2 , A \ot B}$.
%   \item If $\GG_1 = (\GG'_1 , \GG''_1)$ where $\GL = (\GG_0 , \GG'_1)$ and $\GO = (\GG''_1 , \GG_2)$, then we apply induction on $f'$ and $f''$ respectively to obtain
%   \begin{itemize}
%     \item[--] a partition $\langle \GD'_0, \dots , \GD'_0 \rangle$ of $\GG'_1$ and a list of interpolant formulae $D'_1, \dots , D'_n$ such that
%     \item[--] $g' : S \mid \GG_0 , D'_1 , \dots , D'_n \vd A$,
%     \item[--] $h'_i : {-} \mid \GD'_i \vd D'_i$, for $i \in [1 \dots n]$, and 
%     \item[--] $\gs{D'_i} \leq \gs{\GD'_i}$ for $i \in [1 \dots n]$ and $\gs{D'_1 , \dots , D'_n} \leq \gs{ S, \GG_0 , A}$ for every $X$ and
%   \end{itemize}
%   \begin{itemize}
%     \item[--] a partition $\langle \GD''_0, \dots , \GD''_0 \rangle$ of $\GG''_1$ and a list of interpolant formulae $D''_1, \dots , D''_m$ such that
%     \item[--] $g'' : {-} \mid D''_{n+1} , \dots , D''_{n+m} , \GG_2 \vd B$, 
%     \item[--] $h''_i : {-} \mid \GD''_i \vd D''_i$, for $i \in [n+1 \dots n+m]$, and
%     \item[--] $\gs{D''_{i}} \leq \gs{\GD''_{i}}$ for $i \in [n+1 \dots n+m]$ and $\gs{D''_{n+1} , \dots , D''_{n+m}} \leq \gs{\GG_2 , B}$ for every $X$.
%   \end{itemize}
%   The desired derivations are 
%   \begin{itemize}
%     \item[--] $g = \tr(g' , g'') : S \mid \GG_0 , D'_1 , \dots , D'_n , D''_{n+1} , \dots , D''_{n+m} , \GG_2 \vd A \ot B$ and 
%     \item[--] for $i \in [1 \dots n+m]$, if $i \leq n$, then $h_i = h'_i$. Otherwise, let $h_i = h''_i$.
%   \end{itemize}
%   We abbreviate $D'_1 , \dots , D'_n$ as $[D']$, $\GD'_1, \dots , \GD'_n$ as $[\GD']$, $D''_{n+1} , \dots , D''_{n+m}$ as $[D'']$, and $\GD''_{n+1}, \dots , \GD''_{n+m}$ as $[\GD'']$. 
%   For the multiplicity condition, we argue that for every $X$
%   \begin{itemize}
%     \item[--] by inductive hypothesis, we know that $\gs{[D']} \leq \gs{[\GD']}$ and $\gs{[D'']} \leq \gs{[\GD'']}$;
%     \item[--] by the definition of $\sigma_{X}$, we have $\gs{[D'], [D'']} \leq \gs{[\GD'] , [\GD'']}$;
%     \item[--] by inductive hypothesis, we know that $\gs{[D']} \leq \gs{ S, \GG_0 , A}$ and $\gs{[D'']} \leq \gs{\GG_2 , B}$;
%     \item[--] by the definition of $\sigma_{X}$, we have $\gs{[D'], [D'']} \leq \gs{ S, \GG_0 , A , \GG_2 , B} = \gs{S , \GG_0 , \GG_2 , A \ot B}$
%   \end{itemize}
%   Therefore, $\gs{[D'], [D'']} \leq \gs{[\GD'] , [\GD'']} $ and $ \gs{[D'] , [D'']} \leq \gs{S , \GG_0 , \GG_2 , A \ot B}$, as desired.
%   % By inductive hypothesis, we know that $\gs{[D']} \subseteq \gs{[\GD']}$ and $\gs{[D'']} \subseteq \gs{[\GD'']}$.
%   % By the definition of $\mf{var}$, we have $\gs{[D'], [D'']} \subseteq \gs{[\GD'] , [\GD'']}$.
%   % By inductive hypothesis, we know that $\gs{[D']} \subseteq \gs{ S, \GG_0 , A}$ and $\gs{[D'']} \subseteq \gs{\GG_2 , B}$.
%   % By the definition of $\mf{var}$, we have $\gs{[D'], [D'']} \subseteq \gs{ S, \GG_0 , A , \GG_2 , B} = \gs{S , \GG_0 , \GG_2 , A \ot B}$.
%   % Therefore, $\gs{[D'], [D'']} \subseteq \gs{[\GD'] , [\GD'']} \cap \gs{S , \GG_0 , \GG_2 , A \ot B}$, as desired.
%   \item The case $\GG_2 = (\GG'_2 , \GG''_2)$ where $\GL = \GG_0 , \GG_1, \GG'_2$ and $\GO = \GG''_2$ is similar to the first case.
% \end{enumerate}
% \end{proof}
\begin{example}
  We compute the $\mf{scut}$-interpolant formula of the end-sequent of the derivation 
  \begin{displaymath}
    \begin{array}{c}
      \infer[\lleft]{Y \lolli Z \mid X \lolli Y , X \vd Z}{
        \infer[\pass]{{-} \mid X \lolli Y ,X \vd Y}{
          \infer[\lleft]{X \lolli Y \mid X \vd Y}{
            \infer[\pass]{{-} \mid X \vd X}{
              \infer[\ax]{X \mid \quad \vd X}{}
            }
            &
            \infer[\ax]{Y \mid \quad \vd Y}{}
          }
        }
        &
        \infer[\ax]{Z \mid \quad \vd Z}{}
      }
    \end{array}
  \end{displaymath}
  with the partition $\langle [X \lolli Y] , [X]\rangle$.
  \\
  Following the procedure in the proof of Theorem \ref{genIntrp}, we apply $\mf{ccut}$-interpolation on $\pass (\lleft ((\pass \ \ax), \ax)) : {-} \mid X \lolli Y , X \vd Y$ with the partition $\langle [X \lolli Y] , [X] , [\ ] \rangle$ to obtain
  \begin{itemize}
    \item[--] a partition $\langle [X] \rangle$ of $[X]$,
    \item[--] a singleton list of formulae $[X]$, and
    \item[--] derivations $\pass (\lleft ((\pass \ \ax), \ax)) : {-} \mid X \lolli Y , X \vd Y$ and $ \pass \ \ax : {-} \mid X \vd X$ 
  \end{itemize}
  such that the multiplicity condition holds.
  Next, we apply $\mf{scut}$-interpolation on $Z \mid \quad \vd Z$ with the partition $\langle [\ ] , [\ ] \rangle$ to obtain two derivations $\ax : Z \mid \quad \vd Z$ and $\ax : Z \mid \quad \vd Z$.
  Then we construct the desired derivations as follows:
  \begin{displaymath}
    \begin{array}{lc}
      \begin{array}{c}
        g
      \end{array}
      \quad
      =&
      \quad
      \begin{array}{c}
        \infer[\lright]{Y \lolli Z \mid X \lolli Y \vd X \lolli Z}{
          \infer[\lleft]{Y \lolli Z \mid X \lolli Y , X \vd Z}{
            \infer[\pass]{{-} \mid X \lolli Y , X \vd Y}{
              \infer[\lleft]{X \lolli Y \mid X \vd Y}{
                \infer[\pass]{{-} \mid X \vd X}{
                  \infer[\ax]{X \mid \quad \vd X}{}
            }
            &
            \infer[\ax]{Y \mid \quad \vd Y}{}
          }
        }
            &
            \infer[\ax]{Z \mid \quad \vd Z}{}
          }
        }
      \end{array}
      \\[50pt]
      \begin{array}{c}
        h
      \end{array}
      \quad
      =&
      \quad
      \begin{array}{c}
        \infer[\lleft]{X \lolli Z \mid X \vd Z}{
          \infer[\pass]{{-} \mid X \vd X}{
            \infer[\ax]{X \mid \quad \vd X}{}
          }
          &
          \infer[\ax]{Z \mid \quad \vd Z}{}
        }
      \end{array}
    \end{array}
  \end{displaymath}
\end{example}
\begin{lemma}\label{lem:gs:vars:equiv}
  For any formula $A$ and an atomic formula $X$, $X \in \vars{A}$ if and only if $1 \leq \gs{A}$.
\end{lemma}
\begin{proof}
  This is true by definition.
\end{proof}
\begin{lemma}\label{lem:gs2vars}
  For any formulae $A$ and $B$, if $\gs{A} \leq \gs{B}$ for every $X$, then $\vars{A} \subseteq \vars{B}$.
\end{lemma}
\begin{proof}
  For any $X \in \vars{A}$, by the assumption $\gs{A} \leq \gs{B}$ and Lemma \ref{lem:gs:vars:equiv}, we know that $X \in \vars{B}$ as well.
  Therefore we can conclude that $\vars{A} \subseteq \vars{B}$.
\end{proof}
\begin{theorem}\label{thm:craig:intrp}
  For any formulae $A$ and $C$, if $A \lolli C$ is provable, then there exists a formula $B$ such that both $A \lolli B$ and $B \lolli C$ are provable, and $\vars{B} \subseteq \vars{A} \cap \vars{C}$.
\end{theorem}
\begin{proof}
$A \lolli C$ being provable means that there is a derivation $f : {-} \mid \quad \vd A \lolli C$. 
By invertibility of the rule $\lright$, we obtain a derivation $f' : {-} \mid A \vd C$.
Then by applying $\mf{scut}$-interpolation on $f'$ with the partition $\langle [A ], [\ ]\rangle$, we get a formula $B$ such that 
\begin{itemize}
  \item[--] $g': {-} \mid A \vd B$,
  \item[--] $h': B \mid \quad \vd C$, and 
  \item[--] $\gs{B} \leq \gs{A} $ and $ \gs{B} \leq \gs{C}$ for every $X$.
\end{itemize}
The formulae $A \lolli B$ and $B \lolli C$ are proved by the derivations $\lright \ g' : {-} \mid \quad \vd A \lolli B$ and $\lright (\pass \ h') : {-} \mid \quad \vd B \lolli C$, respectively.
By Lemma \ref{lem:gs2vars}, we know that $\vars{B} \subseteq \vars{A}$ and $\vars{B} \subseteq \vars{C}$, which means that $\vars{B} \subseteq \vars{A} \cap \vars{C}$.
%  however, it is impossible to find such $D$, $f'_0$, and $f'_1$ by induction without $\mf{ccut}$ interpolation.
% then $D$ is the correct interpolant because we have $\lleft \ f'_0 \ f'' : A \lolli B \mid \GG_0, D, \GG_2 \vd C$ and the multiplicity condition is satisfied.
% However, it is impossible to find $D$, $f'_0$, and $f'_1$ by induction without $\mf{ccut}$ interpolation.
% \paragraph*{Remark}
\end{proof}
\begin{definition}[iterated $\mf{ccut}$]
  Suppose that there are $f : S \mid \GG_0 , D_1 , \dots, D_n , \GG_2 \vd C$, and a list of derivations $\phi$ where for any $g_i \in \phi$, $\mf{ccut}(g_i , f)$ is a derivation. 
  We define $\mf{ccut}^* (\phi , f)$ recursively:
  \begin{itemize}
    \item[--] If $\phi = [\ ]$, then $\mf{ccut}^* (\phi , f) = f$.
    \item[--] If $\phi = (g_1 , \phi')$, then $\mf{ccut}^* (\phi , f) = \mf{ccut} (g_1 , (\mf{ccut}^* (\phi' , f)))$.
  \end{itemize}
\end{definition}
The procedure in the proof of Theorem \ref{genIntrp} also provides a proof-relevant content of interpolation.
% In particular, we can prove the following two theorems.
\intrpCut
% \begin{theorem}
% ~
% \\
%   If $g : S \mid \GG_0 \vd D$ and $h : D \mid \GG_1 \vd C$ are derivations obtained by applying $\mf{scut}$-interpolation on a derivation $f: S \mid \GG \vd C$ with the partition $\langle \GG_0 , \GG_1 \rangle$, then $\mf{scut}(g, h) \circeq f$.
%   \\
%   If $g : S \mid \GG_0 , D_1 , \dots, D_n, \GG_2 \vd C$ and $h_i : {-} \mid \GD_i \vd D_i$ for $i \in [1 \dots n]$ are derivations obtained by applying $\mf{ccut}$-interpolation on a derivation $f: S \mid \GG \vd C$ with the partition $\langle \GG_0 , \GG_1 , \GG_2 \rangle$, then $\mf{ccut}^*([h_i] , g) \circeq f$.
% \end{theorem}
\section{Formalization}
In this ongoing work, we show that sequent calculi for left skew monoidal (closed) categories enjoy Craig interpolation.
The proofs of two statements of generalized interpolation are formalized in the proof assistant Agda.
The code is available at
\begin{center}
  \url{https://github.com/niccoloveltri/code-skewmonclosed/tree/interpolation}.
\end{center}
For the future, we would like to extend the result to other semi-substructural logics in \cite{veltri:coherence:2021,VW:2023}.
\bibliography{StudiaLogica}


%%=============================================%%
%% For submissions to Nature Portfolio Journals %%
%% please use the heading ``Extended Data''.   %%
%%=============================================%%

%%=============================================================%%
%% Sample for another appendix section			       %%
%%=============================================================%%

%% \section{Example of another appendix section}\label{secA2}%
%% Appendices may be used for helpful, supporting or essential material that would otherwise 
%% clutter, break up or be distracting to the text. Appendices can consist of sections, figures, 
%% tables and equations etc.

%%===========================================================================================%%
%% If you are submitting to one of the Nature Portfolio journals, using the eJP submission   %%
%% system, please include the references within the manuscript file itself. You may do this  %%
%% by copying the reference list from your .bbl file, paste it into the main manuscript .tex %%
%% file, and delete the associated \verb+\bibliography+ commands.                            %%
%%===========================================================================================%%


\end{document}
